_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[130],{"+Bgw":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("z7pX"),i=n("vJKn"),o=n.n(i),s=n("rg98"),a=n("xvhg"),c=n("q1tI");function l(){var e=c.useState(null),t=Object(a.a)(e,2),r=t[0],i=t[1],l=c.useState(null),d=Object(a.a)(l,2),h=d[0],f=d[1];return c.useEffect((function(){if(r){var e,t=!1;return function(){i.apply(this,arguments)}(),function(){t=!0,e&&(e.destroy(),e=null)}}function i(){return(i=Object(s.a)(o.a.mark((function i(){var s,a,c;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all([n.e(30),n.e(327)]).then(n.bind(null,"IprL"));case 2:if(s=i.sent,r&&!t){i.next=5;break}return i.abrupt("return");case 5:a=new s.state.Compartment,c=new s.state.Compartment,e=new s.view.EditorView({parent:r}),f({view:e,codemirror:s,setTheme:function(t){if(!e)throw new Error("Expected view");e.dispatch({effects:[a.reconfigure(t.base),c.reconfigure(t.highlight)]})},loadExentions:function(e){return u({codemirror:s,filename:e.filename,theme:e.theme,keyBindings:e.keyBindings,themeCompartment:a,highlightCompartment:c})}});case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)}}),[r]),[h,i]}function u(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(o.a.mark((function e(t){var i,s,a,c,l,u,d,h,f,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.filename,s=t.codemirror,a=t.theme,c=t.keyBindings,l=t.themeCompartment,u=t.highlightCompartment,d=i?s.language.LanguageDescription.matchFilename(s.languageData.languages,i):null,h=null,"Markdown"!==(null===d||void 0===d?void 0:d.name)){e.next=10;break}return e.next=6,Promise.all([n.e(7),n.e(10),n.e(31),n.e(30)]).then(n.bind(null,"S0tx"));case 6:f=e.sent,h=f.markdown({codeLanguages:s.languageData.languages.filter((function(e){return"Markdown"!==e.name}))}),e.next=14;break;case 10:if(!d){e.next=14;break}return e.next=13,d.load();case 13:h=e.sent;case 14:return p=[s.gutter.lineNumbers(),s.view.highlightSpecialChars(),s.fold.foldGutter(),s.history.history(),s.view.drawSelection(),s.state.EditorState.allowMultipleSelections.of(!0),s.language.indentOnInput(),s.matchbrackets.bracketMatching(),s.closebrackets.closeBrackets(),s.autocomplete.autocompletion(),s.rectangularSelection.rectangularSelection(),s.search.highlightSelectionMatches()].concat(Object(r.a)(h?[h]:[]),[l.of(a.base),u.of(a.highlight),s.view.keymap.of([].concat(Object(r.a)(s.commands.defaultKeymap),Object(r.a)(s.closebrackets.closeBracketsKeymap),Object(r.a)(s.search.searchKeymap),Object(r.a)(s.history.historyKeymap),Object(r.a)(s.fold.foldKeymap),Object(r.a)(s.comment.commentKeymap),Object(r.a)(s.autocomplete.completionKeymap),Object(r.a)(s.lint.lintKeymap),Object(r.a)(c||[])))]),e.abrupt("return",p);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"0LUh":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("cpVT"),i=n("nKUr"),o=(n("q1tI"),n("pDQI"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return Object(i.jsxs)(o.a,a(a({strokeWidth:3},e),{},{children:[Object(i.jsx)("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},"3gM7":function(e,t,n){"use strict";var r=n("vJKn"),i=n.n(r),o=n("rg98"),s=n("G5Ub");t.a=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}r=t.user,e.next=13;break;case 4:if(!((o=n.getState().user)&&o.userInfo.isLoggedIn&&o.userInfo)){e.next=9;break}r=o.userInfo,e.next=13;break;case 9:return e.next=11,Object(s.b)("/is_authenticated");case 11:(a=e.sent).success&&(r=a.user);case 13:return r&&(t&&(r=JSON.parse(JSON.stringify(r))),n.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:r})),e.abrupt("return",{user:r});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"4Njq":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("SXYe").a.tabletMin},"4eob":function(e,t,n){"use strict";n.r(t),n.d(t,"Annotation",(function(){return B})),n.d(t,"AnnotationType",(function(){return W})),n.d(t,"ChangeDesc",(function(){return s})),n.d(t,"ChangeSet",(function(){return a})),n.d(t,"CharCategory",(function(){return $})),n.d(t,"Compartment",(function(){return R})),n.d(t,"EditorSelection",(function(){return g})),n.d(t,"EditorState",(function(){return re})),n.d(t,"Facet",(function(){return x})),n.d(t,"MapMode",(function(){return o})),n.d(t,"Prec",(function(){return P})),n.d(t,"SelectionRange",(function(){return p})),n.d(t,"StateEffect",(function(){return K})),n.d(t,"StateEffectType",(function(){return q})),n.d(t,"StateField",(function(){return k})),n.d(t,"Transaction",(function(){return J})),n.d(t,"combineConfig",(function(){return ie}));var r=n("uZp5");n.d(t,"Text",(function(){return r.a}));const i=/\r\n?|\n/;var o=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(o||(o={}));class s{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(e,t=!1){u(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new s(e)}composeDesc(e){return this.empty?e:e.empty?this:h(this,e)}mapDesc(e,t=!1){return e.empty?this:d(this,e,t)}mapPos(e,t=-1,n=o.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],c=this.sections[s++],l=r+a;if(c<0){if(l>e)return i+(e-r);i+=a}else{if(n!=o.Simple&&l>=e&&(n==o.TrackDel&&r<e&&l>e||n==o.TrackBefore&&r<e||n==o.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==r||t<0?i:i+c;i+=c}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new s(e)}}class a extends s{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return u(this,((t,n,r,i,o)=>e=e.replace(r,r+(n-t),o)),!1),e}mapDesc(e,t=!1){return d(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let c=i>>1;for(;n.length<c;)n.push(r.a.empty);n.push(s?e.slice(o,o+s):r.a.empty)}o+=s}return new a(t,n)}compose(e){return this.empty?e:e.empty?this:h(this,e,!0)}map(e,t=!1){return e.empty?this:d(this,e,t,!0)}iterChanges(e,t=!1){u(this,e,t)}get desc(){return new s(this.sections)}filter(e){let t=[],n=[],r=[],i=new f(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-s);c(r,e,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;c(t,e,o),o>0&&l(n,t,i.text),i.forward(e),s+=e}let u=e[o++];for(;s<u;){if(i.done)break e;let e=Math.min(i.len,u-s);c(t,e,-1),c(r,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),s+=e}}return{changes:new a(t,n),filtered:new s(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let o=[],s=[],u=0,d=null;function h(e=!1){if(!e&&!o.length)return;u<t&&c(o,t-u,-1);let n=new a(o,s);d=d?d.compose(n.map(d)):n,o=[],s=[],u=0}return function e(f){if(Array.isArray(f))for(let t of f)e(t);else if(f instanceof a){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);h(),d=d?d.compose(f.map(d)):f}else{let{from:e,to:a=e,insert:d}=f;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let p=d?"string"==typeof d?r.a.of(d.split(n||i)):d:r.a.empty,g=p.length;if(e==a&&0==g)return;e<u&&h(),e>u&&c(o,e-u,-1),c(o,a-e,g),l(s,o,p),u=a}}(e),h(!d),d}static empty(e){return new a(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<i;)n.push(r.a.empty);n[i]=r.a.of(o.slice(1)),t.push(o[0],n[i].length)}}}return new a(t,n)}}function c(e,t,n,r=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function l(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(r.a.empty);e.push(n)}}function u(e,t,n){let i=e.inserted;for(let o=0,s=0,a=0;a<e.sections.length;){let c=e.sections[a++],l=e.sections[a++];if(l<0)o+=c,s+=c;else{let u=o,d=s,h=r.a.empty;for(;u+=c,d+=l,l&&i&&(h=h.append(i[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)c=e.sections[a++],l=e.sections[a++];t(o,u,s,d,h),o=u,s=d}}}function d(e,t,n,r=!1){let i=[],o=r?[]:null,u=new f(e),d=new f(t);for(let h=0,f=0;;)if(-1==u.ins)h+=u.len,u.next();else if(-1==d.ins&&f<h){let e=Math.min(d.len,h-f);d.forward(e),c(i,e,-1),f+=e}else if(d.ins>=0&&(u.done||f<h||f==h&&(d.len<u.len||d.len==u.len&&!n))){for(c(i,d.ins,-1);h>f&&!u.done&&h+u.len<f+d.len;)h+=u.len,u.next();f+=d.len,d.next()}else{if(!(u.ins>=0)){if(u.done&&d.done)return o?new a(i,o):new s(i);throw new Error("Mismatched change set lengths")}{let e=0,t=h+u.len;for(;;)if(d.ins>=0&&f>h&&f+d.len<t)e+=d.ins,f+=d.len,d.next();else{if(!(-1==d.ins&&f<t))break;{let n=Math.min(d.len,t-f);e+=n,d.forward(n),f+=n}}c(i,e,u.ins),o&&l(o,i,u.text),h=t,u.next()}}}function h(e,t,n=!1){let r=[],i=n?[]:null,o=new f(e),u=new f(t);for(let d=!1;;){if(o.done&&u.done)return i?new a(r,i):new s(r);if(0==o.ins)c(r,o.len,0,d),o.next();else if(0!=u.len||u.done){if(o.done||u.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,u.len),t=r.length;if(-1==o.ins){let t=-1==u.ins?-1:u.off?0:u.ins;c(r,e,t,d),i&&t&&l(i,r,u.text)}else-1==u.ins?(c(r,o.off?0:o.len,e,d),i&&l(i,r,o.textBit(e))):(c(r,o.off?0:o.len,u.off?0:u.ins,d),i&&!u.off&&l(i,r,u.text));d=(o.ins>e||u.ins>=0&&u.len>e)&&(d||r.length>t),o.forward2(e),u.forward(e)}}else c(r,0,u.ins,d),i&&l(i,r,u.text),u.next()}}class f{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?r.a.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?r.a.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class p{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n=e.mapPos(this.from,t),r=e.mapPos(this.to,t);return n==this.from&&r==this.to?this:new p(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return g.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return g.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return g.range(e.anchor,e.head)}}class g{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:g.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new g([this.main])}addRange(e,t=!0){return g.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,g.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new g(e.ranges.map((e=>p.fromJSON(e))),e.main)}static single(e,t=e){return new g([g.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return m(e.slice(),t);n=i.to}return new g(e,t)}static cursor(e,t=0,n,r){return new p(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}static range(e,t,n){let r=(null!==n&&void 0!==n?n:33554431)<<5;return t<e?new p(t,e,16|r):new p(e,t,r)}}function m(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let r=1;r<e.length;r++){let n=e[r],i=e[r-1];if(n.empty?n.from<=i.to:n.from<i.to){let o=i.from,s=Math.max(n.to,i.to);r<=t&&t--,e.splice(--r,2,n.anchor>n.head?g.range(s,o):g.range(o,s))}}return new g(e,t)}function b(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let j=0;class x{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.extensions=i,this.id=j++,this.default=e([])}static define(e={}){return new x(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:v),!!e.static,e.enables)}of(e){return new y([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new y(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new y(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function v(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class y{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=j++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=e[this.id]>>1,o=2==this.type,s=!1,a=!1,c=[];for(let l of this.dependencies)"doc"==l?s=!0:"selection"==l?a=!0:0==(1&(null!==(t=e[l.id])&&void 0!==t?t:1))&&c.push(e[l.id]);return(e,t)=>{if(!t||t.reconfigured)return e.values[i]=n(e),1;{if(!(s&&t.docChanged||a&&(t.docChanged||t.selection)||c.some((t=>(1&T(e,t))>0))))return 0;let l=n(e),u=t.startState.values[i];return(o?function(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}(l,u,r):r(l,u))?0:(e.values[i]=l,1)}}}}function w(e,t,n){let r=n.map((t=>e[t.id])),i=n.map((e=>e.type)),o=r.filter((e=>!(1&e))),s=e[t.id]>>1;return(e,n)=>{let a=n?n.reconfigured?n.startState.config.address[t.id]:s<<1:null,c=null==a;for(let t of o)1&T(e,t)&&(c=!0);if(!c)return 0;let l=[];for(let t=0;t<r.length;t++){let n=M(e,r[t]);if(2==i[t])for(let e of n)l.push(e);else l.push(n)}let u=t.combine(l);return null!=a&&t.compare(u,M(n.startState,a))?0:(e.values[s]=u,1)}}const O=x.define({static:!0});class k{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new k(j++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(O).find((e=>e.field==this));return((null===t||void 0===t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return(e,n)=>{if(!n)return e.values[t]=this.create(e),1;let r,i=0;if(n.reconfigured){let e=function(e,t){let n=e.config.address[t];return null==n?null:n>>1}(n.startState,this.id);r=null==e?this.create(n.startState):n.startState.values[e],i=1}else r=n.startState.values[t];let o=this.updateF(r,n);return i||this.compareF(r,o)||(i=1),i&&(e.values[t]=o),i}}init(e){return[this,O.of({field:this,create:e})]}get extension(){return this}}const S=2,C=1,_=0;function E(e){return t=>new N(t,e)}const P={fallback:E(3),default:E(S),extend:E(C),override:E(_)};class N{constructor(e,t){this.inner=e,this.prec=t}}class R{of(e){return new I(this,e)}reconfigure(e){return R.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class I{constructor(e,t){this.compartment=e,this.inner=t}}class D{constructor(e,t,n,r,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),o=new Map;for(let l of function(e,t,n){let r=[[],[],[],[]],i=new Map;function o(e,s){let a=i.get(e);if(null!=a){if(a>=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof I&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e))for(let t of e)o(t,s);else if(e instanceof I){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),o(r,s)}else if(e instanceof N)o(e.inner,e.prec);else if(e instanceof k)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof y)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,s);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(t,s)}}return o(e,S),r.reduce(((e,t)=>e.concat(t)))}(e,t,o))l instanceof k?r.push(l):(i[l.facet.id]||(i[l.facet.id]=[])).push(l);let s=Object.create(null),a=[],c=[];for(let l of r)s[l.id]=c.length<<1,c.push((e=>l.slot(e)));for(let l in i){let e=i[l],t=e[0].facet;if(e.every((e=>0==e.type))){s[t.id]=a.length<<1|1;let r=t.combine(e.map((e=>e.value))),i=n?n.config.address[t.id]:null;if(null!=i){let e=M(n,i);t.compare(r,e)&&(r=e)}a.push(r)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=c.length<<1,c.push((e=>t.dynamicSlot(e))));s[t.id]=c.length<<1,c.push((n=>w(n,t,e)))}}return new D(e,o,c.map((e=>e(s))),s,a)}}function T(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let i=e.config.dynamicSlots[n](e,e.applying);return e.status[n]=2|i}function M(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const A=x.define(),L=x.define({combine:e=>e.some((e=>e)),static:!0}),U=x.define({combine:e=>e.length?e[0]:void 0,static:!0}),F=x.define(),z=x.define(),V=x.define();class B{constructor(e,t){this.type=e,this.value=t}static define(){return new W}}class W{of(e){return new B(this,e)}}class q{constructor(e){this.map=e}of(e){return new K(this,e)}}class K{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new K(this.type,t)}is(e){return this.type==e}static define(e={}){return new q(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}K.reconfigure=K.define(),K.appendConfig=K.define();class J{constructor(e,t,n,r,i,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&b(n,t.newLength),i.some((e=>e.type==J.time))||(this.annotations=i.concat(J.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}}function G(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function H(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=a.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:K.mapEffects(e.effects,i).concat(K.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Q(e,t,n){let r=t.selection;return{changes:t.changes instanceof a?t.changes:a.of(t.changes||[],n,e.facet(U)),selection:r&&(r instanceof g?r:g.single(r.anchor,r.head)),effects:Z(t.effects),annotations:Z(t.annotations),scrollIntoView:!!t.scrollIntoView}}function X(e,t,n){let r=Q(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let i=!!t[o].sequential;r=H(r,Q(e,t[o],i?r.changes.newLength:e.doc.length),i)}let i=new J(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(V),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=H(e,Q(t,o,e.changes.newLength),!0))}return r==e?e:new J(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let i of t.facet(F)){let t=i(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:G(n,t))}if(!0!==n){let r,i;if(!1===n)i=e.changes.invertedDesc,r=a.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.invertedDesc}e=new J(t,r,e.selection&&e.selection.map(i),K.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(z);for(let i=r.length-1;i>=0;i--){let n=r[i](e);e=n instanceof J?n:Array.isArray(n)&&1==n.length&&n[0]instanceof J?n[0]:X(t,Z(n),!1)}return e}(i):i)}J.time=B.define(),J.userEvent=B.define(),J.addToHistory=B.define(),J.remote=B.define();const Y=[];function Z(e){return null==e?Y:Array.isArray(e)?e:[e]}var $=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}($||($={}));const ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let te;try{te=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(oe){}function ne(e){return t=>{if(!/\S/.test(t))return $.Space;if(function(e){if(te)return te.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||ee.test(n)))return!0}return!1}(t))return $.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return $.Word;return $.Other}}class re{constructor(e,t,n,r=null){if(this.config=e,this.doc=t,this.selection=n,this.applying=null,this.status=e.statusTemplate.slice(),r&&r.startState.config==e)this.values=r.startState.values.slice();else if(this.values=e.dynamicSlots.map((e=>null)),r)for(let i in e.address){let t=e.address[i],n=r.startState.config.address[i];null!=n&&0==(1&t)&&(this.values[t>>1]=M(r.startState,n))}this.applying=r,r&&(r._state=this);for(let i=0;i<this.config.dynamicSlots.length;i++)T(this,i<<1);this.applying=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return T(this,n),M(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return X(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:r}=t;for(let i of e.effects)i.is(R.reconfigure)?(t&&(r=new Map,t.compartments.forEach(((e,t)=>r.set(t,e))),t=null),r.set(i.value.compartment,i.value.extension)):i.is(K.reconfigure)?(t=null,n=i.value):i.is(K.appendConfig)&&(t=null,n=Z(n).concat(i.value));new re(t||D.resolve(n,r,this),e.newDoc,e.newSelection,e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:g.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=Z(n.effects);for(let s=1;s<t.ranges.length;s++){let n=e(t.ranges[s]),a=this.changes(n.changes),c=a.map(r);for(let e=0;e<s;e++)i[e]=i[e].map(c);let l=r.mapDesc(a,!0);i.push(n.range.map(l)),r=r.compose(c),o=K.mapEffects(o,c).concat(K.mapEffects(Z(n.effects),l))}return{changes:r,selection:g.create(i,t.mainIndex),effects:o}}changes(e=[]){return e instanceof a?e:a.of(e,this.doc.length,this.facet(re.lineSeparator))}toText(e){return r.a.of(e.split(this.facet(re.lineSeparator)||i))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(T(this,t),M(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof k&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let i in n){let t=n[i],o=e[i];r.push(t.init((e=>t.spec.fromJSON(o,e))))}return re.create({doc:e.doc,selection:g.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=D.resolve(e.extensions||[],new Map),n=e.doc instanceof r.a?e.doc:r.a.of((e.doc||"").split(t.staticFacet(re.lineSeparator)||i)),o=e.selection?e.selection instanceof g?e.selection:g.single(e.selection.anchor,e.selection.head):g.single(0);return b(o,n.length),t.staticFacet(L)||(o=o.asSingle()),new re(t,n,o)}get tabSize(){return this.facet(re.tabSize)}get lineBreak(){return this.facet(re.lineSeparator)||"\n"}phrase(e){for(let t of this.facet(re.phrases))if(Object.prototype.hasOwnProperty.call(t,e))return t[e];return e}languageDataAt(e,t){let n=[];for(let r of this.facet(A))for(let i of r(this,t))Object.prototype.hasOwnProperty.call(i,e)&&n.push(i[e]);return n}charCategorizer(e){return ne(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-n,a=e-n;for(;s>0;){let e=Object(r.e)(t,s,!1);if(o(t.slice(e,s))!=$.Word)break;s=e}for(;a<i;){let e=Object(r.e)(t,a);if(o(t.slice(a,e))!=$.Word)break;a=e}return s==a?g.range(s+n,a+n):null}}function ie(e,t,n={}){let r={};for(let i of e)for(let e of Object.keys(i)){let t=i[e],o=r[e];if(void 0===o)r[e]=t;else if(o===t||void 0===t);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](o,t)}}for(let i in t)void 0===r[i]&&(r[i]=t[i]);return r}re.allowMultipleSelections=L,re.tabSize=x.define({combine:e=>e.length?e[0]:4}),re.lineSeparator=U,re.phrases=x.define(),re.languageData=A,re.changeFilter=F,re.transactionFilter=z,re.transactionExtender=V,R.reconfigure=K.define()},"4reG":function(e,t,n){"use strict";n.r(t),n.d(t,"Viewer",(function(){return p})),n.d(t,"Component",(function(){return g})),n.d(t,"reducer",(function(){return m}));var r=n("nKUr"),i=n("xvhg"),o=n("MX0m"),s=n.n(o),a=(n("q1tI"),n("EQ2k")),c=n("gfZM"),l=n("dI/k"),u=n("Qbrf"),d=n("S6NQ"),h=n("h7rM"),f=n("/MKj"),p=function(e){var t=e.content,n=e.mime;if(n.startsWith("video/"))return Object(r.jsx)("video",{src:"data:".concat(n,";base64,").concat(t),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(n.startsWith("image/"))return Object(r.jsx)("img",{src:"data:".concat(n,";base64,").concat(t),style:{maxHeight:"100%",maxWidth:"100%"}});if(n.startsWith("audio/")){var i=n;return"audio/wave"===i&&(i="audio/wav"),Object(r.jsx)("audio",{src:"data:".concat(i,";base64,").concat(t),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===n?Object(r.jsx)("object",{data:"data:".concat(n,";base64,").concat(t),type:"application/pdf",style:{width:"100%",height:"100%"},children:Object(r.jsx)("embed",{src:"data:".concat(n,";base64,").concat(t),type:"application/pdf",style:{width:"100%",height:"100%"}})}):Object(r.jsx)("div",{children:"File type not supported"})},g=function(e){var t=e.wid,n=e.pud,o=e.style,u=Object(h.b)(t,n,"mediaview2"),d=Object(i.a)(u,1)[0].files,g=Object(f.f)((function(e){return e.workspace[t].activeFile}));if(!g||!Object(l.j)(g))return Object(r.jsx)("div",{style:o,children:"No file to show"});var m=d[g],b=Object(r.jsx)("div",{children:"File loading, please wait..."}),j=null;if(m&&m.loaded){var x=c.a.from(m.content).toString("base64");j=Object(r.jsxs)(r.Fragment,{children:["Some files may fail to load on the browser."," ",Object(r.jsx)("a",{href:"data:text/plain;base64,".concat(x),download:Object(l.c)(g),children:"Click here to download"})]}),b=Object(r.jsx)(p,{content:x,mime:Object(l.d)(g)})}return Object(r.jsxs)("div",{style:o,className:s.a.dynamic([["3386734190",[a.a.gray85]]])+" mediaview",children:[Object(r.jsx)("div",{className:s.a.dynamic([["3386734190",[a.a.gray85]]])+" mediaview-download",children:j}),Object(r.jsx)("div",{className:s.a.dynamic([["3386734190",[a.a.gray85]]])+" mediaview-content",children:b}),Object(r.jsx)(s.a,{id:"3386734190",dynamic:[a.a.gray85],children:[".mediaview.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#0e0e0e;}",".mediaview-download.__jsx-style-dynamic-selector{text-align:center;width:100%;color:".concat(a.a.gray85,";padding:10px;}"),".mediaview-content.__jsx-style-dynamic-selector{min-height:0;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},m=Object(u.a)({files:d.a})},"50Dc":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n("cpVT"),i=n("ubVE"),o=n("AtEE");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="var(--color-background-1)",l="var(--color-foreground-1)",u={"&":{backgroundColor:c,color:l,"&.cm-focused":{outline:"0 none"}},".cm-scoller":{overflow:"auto",fontFamily:"var(--font-family-monospace)"},".cm-gutters":{backgroundColor:c,color:"var(--color-foreground-3)",border:"none"},".cm-selectionBackground":{background:"var(--color-primary-transparent-2)"},"&.cm-focused .cm-selectionBackgroundFocused":{background:"var(--color-primary-transparent-1)"},".cm-cursor":{borderLeftColor:"var(--color-primary-2)"},".cm-cursorFocused":{borderLeftColor:"var(--color-primary-1)"},".cm-activeLine":{backgroundColor:"var(--color-primary-transparent-3)"},".cm-specialChar":{color:"var(--color-negative-1)"},".cm-placeholder":{color:"var(--color-foreground-2)",display:"inline-block"},".cm-textfield":{border:"1px solid var(--color-border)",backgroundColor:c},".cm-foldPlaceholder":{padding:"0 var(--spacing-half)",borderRadius:"var(--border-radius-1)",backgroundColor:"var(--color-background-3)",border:"none",color:"var(--color-foreground-2)"},".cm-panels":{backgroundColor:"var(--color-background-3)",color:l},".cm-panels.top":{borderBottom:"2px solid var(--color-border)"},".cm-panels.bottom":{borderTop:"2px solid var(--color-border)"},".cm-searchMatch":{backgroundColor:"var(--color-primary-transparent-2)"},".cm-searchMatch.selected":{backgroundColor:"var(--color-primary-transparent-1)"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"var(--color-green-transparent-1)"},".cm-tooltip":{backgroundColor:"var(--color-background-1)",color:"var(--color-foreground-1)",boxShadow:"var(--shadow-1)",border:"1px solid var(--color-border)",borderRadius:"var(--border-radius-1)"},".cm-tooltip.multiplayer":{backgroundColor:"transparent",boxShadow:"none",border:"0 none"},".cm-tooltip .cursor":{top:"calc(100% - 1px)",left:"-1px",width:"2px",borderRadius:"var(--border-radius-1)",pointerEvents:"none",position:"absolute",color:"transparent"},".cm-tooltip .label":{boxShadow:"var(--shadow-1)",padding:"1px",position:"relative",left:"-1px",borderRadius:"var(--border-radius-1)",borderBottomLeftRadius:"0px",animation:"fadeOut 2s ease-in forwards"},"@keyframes fadeOut":{"0%":{opacity:1},"100%":{opacity:0}},".cm-tooltip.autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:"var(--color-primary-1)",color:"var(--color-white)"}}};function d(e){var t=e.view.EditorView.theme(a({},u),{dark:!1}),n=i.tags;return{base:t,highlight:i.HighlightStyle.define([{tag:n.link,textDecoration:"underline"},{tag:n.heading,fontWeight:"bold"},{tag:n.emphasis,fontStyle:"italic"},{tag:n.strong,fontWeight:"bold"},{tag:[n.keyword,n.operator],color:"#0000ff"},{tag:[n.atom,n.bool,n.url,n.contentSeparator,n.labelName],color:"#1a1aff"},{tag:[n.literal,n.inserted,n.number],color:"#09885a"},{tag:[n.string,n.deleted],color:"#a31515"},{tag:[n.regexp,n.escape,n.special(n.string)],color:"#227e80"},{tag:n.definition(n.variableName),color:"var(--color-foreground-1)"},{tag:n.local(n.variableName),color:"#001188"},{tag:[n.typeName,n.namespace],color:"#7b2cb3"},{tag:[n.className,n.variableName,n.special(n.variableName),n.macroName],color:"#7b2cb3"},{tag:n.definition(n.propertyName),color:"#984e9c"},{tag:n.comment,color:"#aaaaaa"},{tag:n.meta,color:"#00808"},{tag:n.invalid,color:"#ff69b4"}])}}function h(e){var t=e.highlight,n=t.tags,r=t.HighlightStyle;return{base:o.EditorView.theme(a({},u),{dark:!0}),highlight:r.define([{tag:n.link,textDecoration:"underline"},{tag:n.heading,fontWeight:"bold"},{tag:n.emphasis,fontStyle:"italic"},{tag:n.strong,fontWeight:"bold"},{tag:[n.keyword,n.operator],color:"#569cd6"},{tag:[n.atom,n.bool,n.url,n.contentSeparator,n.labelName],color:"#70b6f0"},{tag:[n.literal,n.inserted,n.number],color:"#b5cea8"},{tag:[n.string,n.deleted],color:"#ce9178"},{tag:[n.regexp,n.escape,n.special(n.string)],color:"#d16969"},{tag:n.definition(n.variableName),color:"var(--color-foreground-1)"},{tag:n.local(n.variableName),color:"#74b0df"},{tag:[n.typeName,n.namespace],color:"#dcdcaa"},{tag:[n.className,n.variableName,n.special(n.variableName),n.macroName],color:"#dcdcaa"},{tag:n.definition(n.propertyName),color:"#9cdcfe"},{tag:n.comment,color:"var(--color-foreground-2)"},{tag:n.meta,color:"#74b0df"},{tag:n.invalid,color:"#ff69b4"}])}}},68:function(e,t,n){n("j36g"),e.exports=n("zWI3")},"6wo1":function(e,t,n){"use strict";var r=n("nKUr"),i=n("MX0m"),o=n.n(i),s=(n("q1tI"),n("up5I")),a=n("xom/");t.a=function(e){return Object(r.jsxs)("div",{className:"jsx-2236393892 wrap",children:[Object(r.jsxs)("div",{className:"jsx-2236393892 content",children:[Object(r.jsxs)("div",{className:"jsx-2236393892 title",children:["Delete ",e.name||e.entityType]}),Object(r.jsxs)("div",{className:"jsx-2236393892 text",children:["Are you sure you want to delete this ",e.entityType,"? This cannot be undone."]})]}),Object(r.jsxs)(a.a,{spacing:1,justify:"end",children:[Object(r.jsx)(s.a,{onClick:e.hideModal,autoFocus:!0,children:"Cancel"}),Object(r.jsxs)(s.a,{color:"negative",onClick:function(){e.delete(),e.hideModal()},children:["Yes, delete this ",e.entityType]})]}),Object(r.jsx)(o.a,{id:"2236393892",children:[".wrap.jsx-2236393892{background-color:var(--color-background-1);border-radius:var(--border-radius-2);color:var(--color-foreground-1);}",".title.jsx-2236393892{color:var(--color-red-1);font-weight:var(--font-weight-medium);padding-bottom:var(--spacing-1);}",".wrap.jsx-2236393892{max-width:600px;padding:var(--spacing-4);display:grid;grid-row-gap:var(--spacing-2);}",".content.jsx-2236393892{padding-bottom:var(--spacing-3);}",".buttons.jsx-2236393892{display:grid;grid-row-gap:var(--spacing-1);}",".title.jsx-2236393892{font-size:20px;}","@media screen and (min-width:400px){.buttons.jsx-2236393892{grid-auto-flow:column;grid-column-gap:var(--spacing-2);-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}.buttons.jsx-2236393892>button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}"]})]})}},AERv:function(e,t){var n=/^@(\w+)/,r=function(e,t,r){var i=n.exec(t);if(i)return!!r||e(i[0])({type:"link",url:"/@"+i[1],children:[{type:"text",value:i[0],position:{start:e.now()}}]})};r.notInLink=!0,r.locator=function(e,t){var n=e.indexOf("@",t);return 0===n||-1===n||-1!==(n=e.indexOf(" @",t-1))&&n++,n},e.exports={markdownMentionPlugin:function(){var e=this.Parser,t=e.prototype.inlineTokenizers,n=e.prototype.inlineMethods;t.mention=r,n.splice(n.indexOf("text"),0,"mention")},usernameRegExp:n}},Altv:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("z7pX"),i=n("xvhg"),o=n("q1tI"),s=n("Wlt/"),a=n("cpVT");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return/\s/.test(e)};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.useState(null),s=Object(i.a)(r,2),a=s[0],c=s[1],d=o.useCallback(c,[c]),h=o.useRef(t);o.useEffect((function(){h.current=t}),[t]);var f=o.useState(null),p=Object(i.a)(f,2),g=p[0],m=p[1];return o.useEffect((function(){if(a){var e=function(){var e=a.value,t=a.selectionStart;if(t){var n=1===t||u(e[t-2]||""),r=e.length?e[t-1]:null;m((function(i){if(i&&(t<i.index||0===t))return null;if(!r)return i;if(!i&&!n)return i;var o=h.current.includes(r);return i||o?i?u(r)?null:l(l({},i),{},{text:e.slice(i.index,t)}):{index:t,text:"",match:r}:i}))}else m(null)},t=function(){m(null)};return a.addEventListener("focus",e),a.addEventListener("keyup",e),a.addEventListener("blur",t),function(){m(null),a.removeEventListener("focus",e),a.removeEventListener("keyup",e),a.removeEventListener("blur",t)}}}),[a,m]),[g,d]}function h(e){var t=o.useRef(e);o.useEffect((function(){t.current=e}),[e]);var n=o.useState(!1),a=Object(i.a)(n,2),c=a[0],l=a[1],u=o.useState(null),h=Object(i.a)(u,2),f=h[0],p=h[1],g=d.apply(void 0,Object(r.a)(Object.keys(e))),m=Object(i.a)(g,2),b=m[0],j=m[1],x=o.useRef(b);o.useEffect((function(){x.current=b}),[b]);var v=Object(s.a)(b,100);return o.useEffect((function(){if(v){var e=v.match,n=v.text,r=t.current[e]?t.current[e]:null;if(r){var i=!1;return l(!0),r(n).then((function(e){i||x.current===v&&(l(!1),p({textTrigger:v,results:e,applySuggestion:function(e){var t=e.targetValue,n=e.suggestionValue,r=t.slice(0,v.index),i=n,o=t.slice(v.index+v.text.length);o&&o.startsWith(" ")||(i+=" ");var s=r+i+o;return{cursorIndex:(r+i).length+(o&&o.startsWith(" ")?1:0),fullValue:s}}}))})),function(){i=!0}}p(null)}else p(null)}),[v,p]),[{isLoading:c,suggestions:f},j]}},EKQb:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("cpVT"),i=n("nKUr"),o=(n("q1tI"),n("pDQI"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return Object(i.jsxs)(o.a,a(a({strokeWidth:3},e),{},{children:[Object(i.jsx)("path",{d:"M9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{d:"M1 1L23 23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},Mjqs:function(e,t,n){"use strict";n.d(t,"a",(function(){return yt}));var r=n("nKUr"),i=n("xvhg"),o=n("q1tI"),s=n("g7Gn"),a=n("uMio"),c=n("MX0m"),l=n.n(c),u=n("fA4Q"),d=n("VOEV"),h=n("2lQ7"),f=n.n(h),p=n("dI/k"),g=n("+Jnw"),m=n("4reG"),b=n("gfZM"),j=n("vJKn"),x=n.n(j),v=n("rg98"),y=n("8v8i"),w=n("8/ze"),O=n("7EIp"),k=n("roZX"),S=n("icXl"),C=n("v0rv");function _(e){var t=e.fs,n=e.language,i=e.activePath,o=e.onNodeClick;return Object(r.jsx)(k.a,{children:Object(r.jsxs)("div",{className:"jsx-48542386 filetree",children:[Object(r.jsx)("span",{className:"jsx-48542386 eyebrow",children:"Files"}),Object(r.jsx)(C.a,{height:1}),Object(r.jsx)(O.a,{siblings:[],readOnly:!0,uploadFiles:function(){},onClick:function(){return null},pendingFileType:null,onRename:function(){return null},onDelete:function(){return null},getNodeType:Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.d.File);case 1:case"end":return e.stop()}}),e)}))),overwriteNode:function(){return null},setPendingFileType:function(){},activePath:i,onNodeClick:o,path:w.a,transformChildren:Object(S.a)(n),fs:t}),Object(r.jsx)(l.a,{id:"48542386",children:[".filetree.jsx-48542386{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;padding:var(--spacing-1);overflow:auto;height:100%;}",".eyebrow.jsx-48542386{font-size:var(--font-size-desktop-text-xsmall);text-transform:uppercase;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-weight:var(--font-weight-medium);color:var(--color-foreground-2);}"]})]})})}var E=n("8bOe"),P=n("4Njq"),N=n("cpVT"),R=n("Vvt1"),I=n.n(R),D=n("RB+8");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,L=function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(64).then(n.t.bind(null,"KMe3",7)).then((function(e){return e.default})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=I()(L,{ssr:!1,loading:function(){return null}});function F(e){var t=e.contents,n={scrollToContent:!0};try{n=M(M({},n),JSON.parse(t||"{}"))}catch(f){}var s=Object(D.f)(),a=o.useRef(null),c=o.useState({width:void 0,height:void 0}),u=Object(i.a)(c,2),d=u[0],h=u[1];return o.useEffect((function(){if(a.current){h({width:a.current.getBoundingClientRect().width,height:a.current.getBoundingClientRect().height});var e=function(){a.current&&h({width:a.current.getBoundingClientRect().width,height:a.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[a]),Object(r.jsxs)("div",{ref:a,className:"jsx-866328784 excalidraw-wrapper",children:[Object(r.jsx)(U,{viewModeEnabled:!0,zenModeEnabled:!0,initialData:n,height:d.height,width:d.width,theme:"replitLight"===s?"light":"dark"}),Object(r.jsx)(l.a,{id:"866328784",children:[".excalidraw-wrapper.jsx-866328784{cursor:all-scroll;height:100%;width:100%;}"]})]})}function z(e){return e.endsWith(".md")?A.Markdown:Object(p.h)(e)?A.Draw:Object(p.j)(e)?A.Media:A.Code}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){return B(B({},e),t)}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw"}(A||(A={}));var q={isLoading:!1,result:null,error:null,fileViewerType:null};var K=n("Hxkj");function J(e){var t=e.fs,n=e.language,r=e.skip,s=o.useState(null),a=Object(i.a)(s,2),c=a[0],l=a[1];return o.useEffect((function(){if(!r){var e=!1;return t.readDir(w.a).then((function(t){if(!e){if(t.error)throw new Error(t.error);var r=t.children.filter((function(e){return e.type===y.d.File})).map((function(e){return e.filename})),i=Object(K.a)(r,n);i&&l(i)}})),function(){e=!0}}}),[t,n,r]),c}var G=n("hzRC"),H=n("+Bgw"),Q=n("50Dc");function X(e){var t=e.path,n=e.text,s=Object(H.a)(),a=Object(i.a)(s,2),c=a[0],l=a[1],u=Object(D.f)();return o.useEffect((function(){if(c){var e=!1;return c.loadExentions({filename:t,theme:"replitDark"===u?Object(Q.a)(c.codemirror):Object(Q.b)(c.codemirror)}).then((function(t){if(!e){var r=c.codemirror;c.view.setState(r.state.EditorState.create({doc:n,extensions:[t,r.view.EditorView.editable.of(!1),r.view.EditorView.lineWrapping]}))}})),function(){e=!0}}}),[c,n,t,u]),Object(r.jsx)("div",{className:"editor",ref:l})}function Y(e){var t=e.fs,n=e.language,s=e.activeFilePath,a=e.onActiveFilePathChange,c=o.useState(s?{path:s,type:y.d.File}:null),u=Object(i.a)(c,2),d=u[0],h=u[1],j=o.useRef(a);o.useEffect((function(){(null===d||void 0===d?void 0:d.type)===y.d.File&&j.current(d.path)}),[d]),o.useEffect((function(){j.current=a}),[a]),o.useLayoutEffect((function(){j.current(s||void 0)}),[s]);var x=J({fs:t,language:n,skip:Boolean(s)});o.useEffect((function(){s||x&&h({path:x,type:y.d.File})}),[x,s]);var v=function(e){var t=e.fs,n=e.path,r=o.useReducer(W,q),s=Object(i.a)(r,2),a=s[0],c=s[1];return o.useEffect((function(){if(n){var e=!1,r=z(n);return c({isLoading:!0,fileViewerType:r}),t.readFile(n).then((function(t){e||(t.error?c({isLoading:!1,result:null,error:{path:n,fileViewerType:r,error:t.error}}):c({isLoading:!1,result:{path:n,fileViewerType:r,content:t.content},error:null}))})),function(){e=!0}}c(q)}),[t,n]),a}({fs:t,path:s||x||void 0}),w=Object(E.g)({fs:t}),O=o.useCallback((function(e){var t=e.src;return Object(r.jsx)(E.a,{previewFilePath:s||null,src:t,getImageContent:w})}),[w,s]);return Object(r.jsxs)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-viewer",children:[Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-tree",children:Object(r.jsx)(_,{language:n,fs:t,activePath:(null===d||void 0===d?void 0:d.path)||null,onNodeClick:h})}),Object(r.jsxs)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" content",children:[v.result&&v.result.fileViewerType===A.Media?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" media",children:Object(r.jsx)(m.Viewer,{content:b.a.from(v.result.content).toString("base64"),mime:Object(p.d)(v.result.path)})}):null,v.isLoading&&v.fileViewerType===A.Media?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-loader",children:Object(r.jsx)(G.a,{})}):null,v.result&&v.result.fileViewerType===A.Markdown?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" markdown",children:Object(r.jsx)(g.a,{renderers:{image:O},plugins:[f.a],source:v.result.content.toString()})}):null,v.isLoading&&v.fileViewerType===A.Markdown?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-loader",children:Object(r.jsx)(G.a,{})}):null,v.result&&v.result.fileViewerType===A.Draw?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" draw",children:Object(r.jsx)(F,{contents:v.result.content.toString()})}):null,v.isLoading&&v.fileViewerType===A.Draw?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-loader",children:Object(r.jsx)(G.a,{})}):null,v.result&&v.result.fileViewerType===A.Code?Object(r.jsx)(X,{path:v.result.path,text:v.result.content.toString()}):null,v.isLoading&&v.fileViewerType===A.Code?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" file-loader",children:Object(r.jsx)(G.a,{})}):null,!v.isLoading&&v.error?Object(r.jsx)("div",{className:l.a.dynamic([["3457292583",[P.a]]])+" error",children:Object(r.jsxs)("div",{className:l.a.dynamic([["3457292583",[P.a]]]),children:["Could not load ",v.error.path]})}):null]}),Object(r.jsx)(l.a,{id:"3457292583",dynamic:[P.a],children:[".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;align:stretch;height:100%;width:100%;}",".ace_editor{font-size:var(--font-size-desktop-text-small) !important;}",".markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--spacing-2);overflow-y:auto;position:relative;height:100%;}",".draw.__jsx-style-dynamic-selector{height:100%;width:100%;}",".file-tree.__jsx-style-dynamic-selector{background-color:var(--color-background-2);border-radius:var(--border-radius-2);overflow:auto;display:none;}",".content.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative;}",".file-loader.__jsx-style-dynamic-selector{width:100%;padding-top:var(--spacing-1);padding-left:var(--spacing-1);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;-webkit-animation-delay:200ms;animation-delay:200ms;}",".media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;}","@-webkit-keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@media screen and (min-width:".concat(P.a,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px;}}")]})]})}var Z=n("YGlK"),$=n("xom/"),ee=n("0HhJ"),te=n("JOwT"),ne=n("UWUU"),re=n("kx/0"),ie=n("VwSA"),oe=n("nXXz");function se(e){var t=e.path,n=null;if(te.a.includes(t))n=Object(r.jsx)(ee.a,{});else{var i=t.split(".").pop();n=i&&i in ie.a?Object(r.jsx)(ne.LanguageIcon,{language:i,fill:"var(--color-primary-1)"}):Object(r.jsx)(re.a,{})}return Object(r.jsxs)("div",{className:"jsx-1947121232 node-icon",children:[n,Object(r.jsx)(l.a,{id:"1947121232",children:[".node-icon.jsx-1947121232{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:var(--color-primary-1);}"]})]})}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 bytes";var n=1024,r=t<0?0:t,i=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,o)).toFixed(r))+" "+i[o]}function ce(e){var t=e.activeFilePath,n=e.onActiveFilePathChange,s=e.fs,a=e.container,c=e.language,u=t?z(t):null,d=o.useState({bytes:0,lines:0}),h=Object(i.a)(d,2),f=h[0],p=h[1],g=o.useState(!1),m=Object(i.a)(g,2),b=m[0],j=m[1],w=o.useState(t?{path:t,type:y.d.File}:null),O=Object(i.a)(w,2),k=O[0],S=O[1],E=o.useRef(n);o.useEffect((function(){(null===k||void 0===k?void 0:k.type)===y.d.File&&(E.current(k.path),j(!1))}),[k]),o.useEffect((function(){E.current=n}),[n]),o.useLayoutEffect((function(){E.current(t||void 0)}),[t]);var N,R=J({fs:s,language:c,skip:!b||Boolean(t)});return o.useEffect((function(){t||R&&S({path:R,type:y.d.File})}),[R,t]),o.useEffect((function(){var e=!1;function n(){return(n=Object(v.a)(x.a.mark((function n(){var r,o,s,c,l,u,d,h;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Promise.all([a.exec("wc","-l",t),a.exec("wc","-c",t)]);case 4:if(s=n.sent,c=Object(i.a)(s,2),l=c[0],u=c[1],!e){n.next=10;break}return n.abrupt("return");case 10:d=u.error?0:null===u||void 0===u||null===(r=u.output)||void 0===r?void 0:r.split(" ")[0],h=l.error?0:null===l||void 0===l||null===(o=l.output)||void 0===o?void 0:o.split(" ")[0],p({bytes:Number(d),lines:Number(h)});case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[t,a]),Object(r.jsxs)("div",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]]),children:[Object(r.jsxs)(Z.a,{padding:2,align:"center",positions:["bottom"],isOpen:b,onClickOutside:function(){j(!1)},children:[Object(r.jsxs)("div",{onClick:function(){return j(!b)},className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" file-header",children:[Object(r.jsxs)("div",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" file-path-wrapper",children:[Object(r.jsx)(se,{path:t||"/"}),Object(r.jsx)(C.a,{width:"2px"}),Object(r.jsx)("span",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" file-path",children:t||"Files"}),Object(r.jsx)(C.a,{width:"2px"}),Object(r.jsx)(oe.a,{})]}),f.bytes&&f.lines?Object(r.jsx)("div",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" file-metadata",children:Object(r.jsxs)($.a,{align:"center",spacing:"4px",wrap:"nowrap",children:[u===A.Media?Object(r.jsx)("span",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" metadata-text",children:ae(f.bytes)}):null,u===A.Code||u===A.Markdown?Object(r.jsx)("span",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" metadata-text",children:(N=f.lines,"".concat(N>0?N+1:N," lines"))}):null]})}):null]}),Object(r.jsx)("div",{className:l.a.dynamic([["4087299427",[t?"visible":"hidden",P.a]]])+" file-tree",children:Object(r.jsx)(_,{language:c,fs:s,activePath:(null===k||void 0===k?void 0:k.path)||null,onNodeClick:S})})]}),Object(r.jsx)(l.a,{id:"4087299427",dynamic:[t?"visible":"hidden",P.a],children:[".file-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".file-tree.__jsx-style-dynamic-selector{width:90vw;max-width:200px;height:calc(var(--content-height) - var(--spacing-2));max-height:calc(var(--content-max-height) - var(--spacing-2));}",".file-metadata.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;text-overflow:ellipsis;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:var(--spacing-half);}",".metadata-text.__jsx-style-dynamic-selector{font-size:var(--font-size-desktop-text-xsmall);font-weight:var(--font-weight-regular);color:var(--color-foreground-2);white-space:nowrap;}",".metadata-text.date.__jsx-style-dynamic-selector{font-weight:var(--font-weight-medium);}",".file-path-wrapper.__jsx-style-dynamic-selector{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-primary-1);visibility:".concat(t?"visible":"hidden",";}"),".file-path.__jsx-style-dynamic-selector{position:relative;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:var(--font-weight-medium);color:var(--color-primary-1);font-size:var(--font-size-desktop-text-small);}","@media screen and (min-width:".concat(P.a,"px){.file-header.__jsx-style-dynamic-selector{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.file-path.__jsx-style-dynamic-selector{max-width:140px;}}")]})]})}var le,ue,de,he=n("TSYQ"),fe=n.n(he),pe=n("zgDP"),ge=n("tZOq"),me=n("up5I"),be=n("R84t"),je=n("V4w5"),xe=n("TxNz"),ve=n("IdsG"),ye=n("+tR8"),we=n("72ti"),Oe=n("8Vt8");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){var t=e.withTransparency;return Object(r.jsxs)("button",{className:"jsx-1481163178 "+(fe()({"with-transparency":t})||""),children:[Object(r.jsx)(be.a,{filled:!0}),Object(r.jsx)(l.a,{id:"1481163178",children:["button.jsx-1481163178{--size:110px;width:var(--size);height:var(--size);color:white;background-color:var(--color-positive-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;border:0 none;box-shadow:var(--shadow-1);cursor:pointer;-webkit-transition:-webkit-transform 100ms ease-in-out;-webkit-transition:transform 100ms ease-in-out;transition:transform 100ms ease-in-out;}","button.with-transparency.jsx-1481163178{background-color:var(--color-positive-transparent-1);}","button.jsx-1481163178:hover{background-color:var(--color-positive-2);-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}","button.jsx-1481163178:hover svg{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}","button.jsx-1481163178:active{background-color:var(--color-positive-3);-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}","button.jsx-1481163178:focus{outline:none;}","button.jsx-1481163178 svg{-webkit-transition:-webkit-transform 100ms ease-out;-webkit-transition:transform 100ms ease-out;transition:transform 100ms ease-out;height:auto;width:65%;-webkit-filter:drop-shadow(var(--shadow-1));filter:drop-shadow(var(--shadow-1));}"]})]})}function _e(e){var t=e.onClick,n=e.isLoggedIn,s=e.repl,a=o.useRef(null),c=o.useState(!1),u=Object(i.a)(c,2),d=u[0],h=u[1],f=o.useState(!1),p=Object(i.a)(f,2),g=p[0],m=p[1],b=o.useState(null),j=Object(i.a)(b,2),x=j[0],v=j[1],y=o.useState(s.imageUrl),w=Object(i.a)(y,2),O=w[0],k=w[1],S=Object(ge.ze)({variables:{replId:s.id}}),C=Object(i.a)(S,1)[0],_=Object(ge.Ae)({onCompleted:function(e){v(null),k(e.updateRepl.repl.imageUrl)}}),E=Object(i.a)(_,1)[0],P=Object(xe.a)({onUpload:function(e){var t=e.url;E({variables:{input:{id:s.id,imageUrl:t}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Se(Se({},s),{},{imageUrl:t})}}})},onUploadPreview:function(e){var t=e.dataUrl;k(t)},onError:function(e){v(e.message)}}),N=s.currentUserPermissions.changeImageUrl;return Object(r.jsxs)("div",{onDrop:N?function(e){var t,n;e.preventDefault();var r=null===(t=e.dataTransfer)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];r&&(r.type.startsWith("image/")?(v(null),P.uploadImage(r)):v("Expected an image file"))}:void 0,onDragOver:N?function(e){e.preventDefault(),h(!0)}:void 0,onDragLeave:N?function(){return h(!1)}:void 0,className:"jsx-2239557896 "+(fe()("output-overlay",{"is-dragging-over":d})||""),children:[O?Object(r.jsxs)("div",{className:"jsx-2239557896 image-wrap",children:[Object(r.jsx)("img",{src:O,alt:s.title,className:"jsx-2239557896"}),Object(r.jsx)("div",{className:"jsx-2239557896 image-overlay"})]}):null,O||!N?Object(r.jsx)("div",{onClick:function(){n&&C(),Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),t()},className:"jsx-2239557896 cta-content-wrap",children:Object(r.jsxs)($.b,{spacing:2,align:"center",children:[Object(r.jsx)(Ce,{withTransparency:Boolean(O)}),O?null:Object(r.jsx)(ve.a,{foreground:3,children:"This repl has no cover image"})]})}):null,!O&&N?Object(r.jsx)("div",{className:"jsx-2239557896 cta-content-wrap",children:Object(r.jsxs)($.b,{spacing:2,align:"center",children:[Object(r.jsx)("span",{className:"jsx-2239557896 upload-icon",children:Object(r.jsx)(je.a,{})}),Object(r.jsx)(ve.a,{fontWeight:"bold",foreground:2,children:"Drag and drop a cover image"}),Object(r.jsx)(me.a,{onClick:function(){a.current&&a.current.click()},filled:!1,border:!1,color:"primary",children:"Or select a file"})]})}):null,O&&N?Object(r.jsxs)("div",{className:"jsx-2239557896 image-controls",children:[Object(r.jsxs)($.a,{spacing:1,justify:"end",children:[Object(r.jsx)(me.a,{onClick:function(e){e.stopPropagation(),a.current&&a.current.click()},children:O?"Change image":"Add an image"}),O&&s.lastPublishedAt?Object(r.jsx)("div",{"data-microtip-position":"left","aria-label":"Published repls require a cover image",role:"tooltip",className:"jsx-2239557896",children:Object(r.jsx)(me.a,{disabled:!0,Icon:ye.a,color:"negative"})}):null,O&&!s.lastPublishedAt?Object(r.jsx)(me.a,{Icon:ye.a,color:"negative",onClick:function(e){e.stopPropagation(),m(!0)}}):null]}),x?Object(r.jsx)("div",{className:"jsx-2239557896 error",children:x}):null]}):null,N?Object(r.jsx)("input",{ref:a,accept:"image/*",type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&null!==r&&void 0!==r&&r.length&&(v(null),P.uploadImage(r[0]))},className:"jsx-2239557896"}):null,Object(r.jsx)(Oe.a,{isOpen:g,onRequestClose:function(){return m(!1)},children:Object(r.jsx)(we.a,{title:"Remove image",isDestructive:!0,onConfirm:function(){E({variables:{input:{id:s.id,imageUrl:null}}}),m(!1)},onCancel:function(){return m(!1)},children:"This will remove your repl's cover image. You can always add one back at any time."})}),Object(r.jsx)(l.a,{id:"2239557896",children:[".output-overlay.jsx-2239557896{background-color:var(--color-background-1);}",".output-overlay.jsx-2239557896:hover .image-controls.jsx-2239557896{opacity:1;}",".image-controls.jsx-2239557896{opacity:0;}",".cta-content-wrap.jsx-2239557896,.output-overlay.jsx-2239557896,.image-wrap.jsx-2239557896,.image-overlay.jsx-2239557896,img.jsx-2239557896{position:absolute;top:0;left:0;width:100%;height:100%;}","img.jsx-2239557896{object-fit:cover;}",".image-overlay.jsx-2239557896{background:radial-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.6));background-repeat:no-repeat;}",".image-controls.jsx-2239557896{position:absolute;right:var(--spacing-2);top:var(--spacing-2);}",".cta-content-wrap.jsx-2239557896{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".is-dragging-over.jsx-2239557896 .upload-icon.jsx-2239557896{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);color:var(--color-primary-1);}",".upload-icon.jsx-2239557896{color:var(--color-foreground-2);-webkit-transition:-webkit-transform 100ms ease-out;-webkit-transition:transform 100ms ease-out;transition:transform 100ms ease-out;}",".upload-icon.jsx-2239557896 svg{height:auto;width:48px;}","input.jsx-2239557896{width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1;}",".error.jsx-2239557896{padding-top:var(--spacing-2);text-align:right;font-size:var(--font-size-desktop-text-small);color:var(--color-negative-1);}"]})]})}!function(e){e[e.Code=0]="Code",e[e.Output=1]="Output"}(le||(le={})),function(e){e.Running="Running",e.Ended="Ended",e.Stopped="Stopped"}(ue||(ue={})),function(e){e.Webview="Webview",e.Terminal="Terminal",e.ReplboxWebview="ReplboxWebview",e.Vnc="Vnc",e.ReplboxConsole="ReplboxConsole",e.GovalConsole="GovalConsole"}(de||(de={}));var Ee=n("YFqc"),Pe=n.n(Ee),Ne=n("pDQI");function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return Object(r.jsx)(Ne.a,Ie(Ie({strokeWidth:2},e),{},{children:Object(r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"})}))}var Te=n("rg44"),Me=n("+sxT"),Ae=n("Wjzo"),Le=n("T0nv"),Ue=n("dhJC"),Fe=n("tidx"),ze=n("FuyV"),Ve=n("V6K1"),Be=n("VoYB"),We=n("ceSv");function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){var t,n,i,o=e.repl,s=e.onClick;return o.owner?(null===(t=o.currentUserEditRequest)||void 0===t?void 0:t.status)===ge.k.Denied?Object(r.jsx)("div",{role:"tooltip","data-microtip-position":"left","aria-label":"Your request has been denied",children:Object(r.jsx)(me.a,{Icon:Ae.a,disabled:!0,children:"Request to edit"})}):(null===(n=o.currentUserEditRequest)||void 0===n?void 0:n.status)===ge.k.Pending?Object(r.jsx)("div",{role:"tooltip","data-microtip-position":"left","aria-label":"You have requested edit access",children:Object(r.jsx)(me.a,{Icon:ze.a,disabled:!0,children:"Requested"})}):(null===(i=o.currentUserEditRequest)||void 0===i?void 0:i.status)===ge.k.Accepted?null:Object(r.jsx)(me.a,{color:"primary",onClick:s,children:"Send edit request"}):Object(r.jsx)("div",{role:"tooltip","data-microtip-position":"left","aria-label":"This repl has no owner",children:Object(r.jsx)(me.a,{Icon:Ae.a,disabled:!0,children:"Request to edit"})})}function Ge(e){var t=e.repl,n=e.ownerUsername,i=e.onConfirm;return Object(r.jsxs)("div",{className:"jsx-4077445032 wrap",children:[Object(r.jsxs)($.b,{spacing:3,align:"stretch",children:[Object(r.jsxs)($.b,{spacing:1,align:"stretch",children:[Object(r.jsx)(Ve.a,{level:3,children:"Edit in workspace"}),t.owner?Object(r.jsxs)(ve.a,{children:["You are about to send ",Object(r.jsx)("b",{className:"jsx-4077445032",children:n})," a notification for you to edit ",Object(r.jsx)("b",{className:"jsx-4077445032",children:t.title}),".",Object(r.jsx)("br",{className:"jsx-4077445032"}),Object(r.jsx)("br",{className:"jsx-4077445032"}),"If they approve your request, you\u2019ll be able to edit their repl using multiplayer.",Object(r.jsx)("br",{className:"jsx-4077445032"}),Object(r.jsx)("br",{className:"jsx-4077445032"}),"Want your own copy? Hit fork, and start coding right away!"]}):Object(r.jsx)(ve.a,{children:"Hit fork to get your own copy and start coding!"})]}),Object(r.jsxs)($.a,{align:"center",justify:"end",spacing:1,children:[Object(r.jsx)("div",{className:"jsx-4077445032",children:Object(r.jsx)(We.a,{replId:t.id,isLoggedIn:!0,trackingContext:"ReplViewEditInWorkspaceConfirmationDialog"})}),Object(r.jsx)("div",{className:"jsx-4077445032",children:Object(r.jsx)(Je,{repl:t,onClick:i})})]})]}),Object(r.jsx)(l.a,{id:"4077445032",children:[".wrap.jsx-4077445032{background-color:var(--color-background-1);border-radius:var(--border-radius-1);color:var(--color-foreground-1);padding:var(--spacing-4) var(--spacing-4);}"]})]})}function He(e){var t,n=e.repl,s=e.isLoggedIn,a=Object(Ue.a)(e,["repl","isLoggedIn"]),c=Object(Be.a)(),l=c.showError,u=c.showConfirm,d=o.useState(!1),h=Object(i.a)(d,2),f=h[0],p=h[1],g=Object(ge.xe)({variables:{replId:n.id},onCompleted:function(e){"UserError"!==e.createEditRequest.__typename?u("Edit access requested"):l(e.createEditRequest.message)},onError:function(e){return l(e.message)}}),m=Object(i.a)(g,2),b=m[0],j=m[1].loading;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me.a,Ke(Ke({},a),{},{Icon:Ae.a,disabled:j,color:"primary",onClick:function(){j||(Object(pe.track)(pe.events.EDIT_REQUEST_BUTTON_CLICKED,{replId:n.id}),p(!0))},children:j?"Requesting...":"Edit in workspace"})),Object(r.jsx)(Oe.a,{width:s?"small":void 0,isOpen:f,onRequestClose:function(){p(!1)},children:s?Object(r.jsx)(Ge,{ownerUsername:null===(t=n.owner)||void 0===t?void 0:t.username,repl:n,onConfirm:function(){p(!1),b()},onClose:function(){return p(!1)}}):Object(r.jsx)(Fe.a,{title:"Sign up or log in to fork this repl",onSuccess:function(e){e&&b()}})})]})}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){var t,n=e.viewMode,i=e.onViewModeChange,o=e.repl,s=e.isLoggedIn,a=e.children,c=180;return Object(r.jsxs)("header",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]])+" "+(fe()({"is-code":n===le.Code,"is-output":n===le.Output})||""),children:[Object(r.jsx)("div",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]])+" view-mode-control",children:Object(r.jsx)("div",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]])+" segmented-control",children:Object(r.jsx)(Me.a,{options:["Output","Code"],selectedOption:n===le.Output?0:1,onChange:function(e){Object(pe.track)(pe.events.SOCIAL_VIEW_VIEW_CHANGED_VIEW_TOGGLE,{view:0===e?"output":"code"}),i(0===e?le.Output:le.Code)},width:"100%"})})}),Object(r.jsx)("div",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]])+" children-control",children:a}),Object(r.jsxs)("div",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]])+" edit-control",children:[o.currentUserPermissions.containerWrite?Object(r.jsx)(Pe.a,Xe(Xe({},Object(Le.b)(o)),{},{children:Object(r.jsx)("a",{className:l.a.dynamic([["1453417841",[P.a,c,90,90]]]),children:Object(r.jsx)(me.a,{Icon:Ae.a,color:"primary",filled:!1,border:!1,children:"Edit in workspace"})})})):null,"User"!==(null===(t=o.owner)||void 0===t?void 0:t.__typename)||o.currentUserPermissions.containerWrite?null:Object(r.jsx)(He,{isLoggedIn:s,repl:o,iconOnRight:!0,Icon:Ae.a,color:"primary",filled:!1,border:!1})]}),Object(r.jsx)(l.a,{id:"1453417841",dynamic:[P.a,c,90,90],children:["header.__jsx-style-dynamic-selector{display:grid;grid-template-areas: 'view-mode-control view-mode-control' 'children-control  edit-control';grid-template-rows:auto auto;grid-template-columns:auto auto;border-bottom:1px solid var(--color-border);}",".view-mode-control.__jsx-style-dynamic-selector{padding:var(--spacing-half);grid-area:view-mode-control;}",".children-control.__jsx-style-dynamic-selector,.edit-control.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--spacing-half);}",".children-control.__jsx-style-dynamic-selector{grid-area:children-control;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".children-control > *{max-height:32px !important;}",".edit-control.__jsx-style-dynamic-selector{grid-area:edit-control;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}","a.__jsx-style-dynamic-selector{-webkit-text-decoration:none !important;text-decoration:none !important;}","@media screen and (min-width:".concat(P.a,"px){header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;}.view-mode-control.__jsx-style-dynamic-selector,.edit-control.__jsx-style-dynamic-selector{width:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--spacing-half);}.children-control.__jsx-style-dynamic-selector{width:").concat(c,"px;position:absolute;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:0;left:50%;-webkit-transform:translate(-50%,0);-ms-transform:translate(-50%,0);transform:translate(-50%,0);height:100%;}header.is-code.__jsx-style-dynamic-selector .children-control.__jsx-style-dynamic-selector{display:none;}header.is-output.__jsx-style-dynamic-selector .edit-control.__jsx-style-dynamic-selector{padding-left:").concat(90,"px;}header.is-output.__jsx-style-dynamic-selector .view-mode-control.__jsx-style-dynamic-selector{padding-right:").concat(90,"px;}.segmented-control.__jsx-style-dynamic-selector{width:180px;}}")]})]})}function Ze(e){var t=e.outputState,n=e.onClick;return t===ue.Stopped?Object(r.jsxs)("div",{onClick:function(){Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",header:!0,action:"initialRun"}),n()},className:l.a.dynamic([["3176571818",[P.a]]])+" not-run",children:[Object(r.jsxs)($.a,{spacing:"4px",align:"center",children:[Object(r.jsx)(be.a,{filled:!0}),Object(r.jsx)(ve.a,{size:"small",foreground:3,children:"Not run yet"})]}),Object(r.jsx)(l.a,{id:"3176571818",dynamic:[P.a],children:[".not-run.__jsx-style-dynamic-selector{cursor:pointer;color:var(--color-foreground-3);}","@media screen and (min-width:".concat(P.a,"px){.not-run.__jsx-style-dynamic-selector{margin-left:-8px;}}")]})]}):Object(r.jsxs)("button",{onClick:function(){Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",header:!0,action:t===ue.Running?"stop":"run"}),n()},className:"jsx-2045167502 "+(fe()({run:t===ue.Ended,stop:t===ue.Running})||""),children:[Object(r.jsx)($.a,{spacing:"4px",align:"center",children:t===ue.Running?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"jsx-2045167502",children:"Stop"}),Object(r.jsx)(De,{filled:!0})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"jsx-2045167502",children:"Run"}),Object(r.jsx)(be.a,{filled:!0})]})}),Object(r.jsx)(l.a,{id:"2045167502",children:["button.jsx-2045167502{cursor:pointer;padding:var(--spacing-1);border-radius:var(--border-radius-2);background-color:transparent;border:none;font-size:var(--font-size-desktop-text-small);font-weight:var(--font-weight-medium);-webkit-transition:color 0.1s,background-color 0.1s;transition:color 0.1s,background-color 0.1s;}","button.jsx-2045167502:focus,button.jsx-2045167502:active{outline:none;}","button.run.jsx-2045167502{background-color:var(--color-positive-transparent-3);color:var(--color-positive-1);}","button.run.jsx-2045167502:hover{background-color:var(--color-positive-1);color:var(--color-white);}","button.stop.jsx-2045167502{background-color:var(--color-control-3);color:var(--color-foreground-2);}","button.stop.jsx-2045167502:hover{background-color:var(--color-control-2);color:var(--color-foreground-1);}"]})]})}function $e(e){var t=e.url,n=e.outputState,i=e.setOutputState;return Object(r.jsxs)("div",{className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]])+" output-control",children:[Object(r.jsx)("div",{className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]])+" run-button-wrap",children:Object(r.jsx)("button",{onClick:function(){if(n===ue.Stopped)return i(ue.Running),void Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"webOutput"});n===ue.Running&&i(ue.Stopped)},className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]])+" run-button",children:n===ue.Running?Object(r.jsx)(De,{filled:!0}):Object(r.jsx)(be.a,{filled:!0})})}),Object(r.jsx)("span",{className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]])+" repl-url-text",children:t.replace(/^https:\/\//,"")}),Object(r.jsx)("div",{className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]]),children:Object(r.jsx)("a",{href:t,target:"_blank",className:l.a.dynamic([["1099207435",[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a]]])+" repl-link",children:Object(r.jsx)(Te.a,{})})}),Object(r.jsx)(l.a,{id:"1099207435",dynamic:[n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",P.a],children:[".output-control.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".run-button-wrap.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",".run-button.__jsx-style-dynamic-selector{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:var(--spacing-half);border-radius:var(--border-radius-2);background-color:".concat(n===ue.Running?"var(--color-control-2)":"var(--color-positive-transparent-2)",";border:none;-webkit-transition:color 0.1s,background-color 0.1s;transition:color 0.1s,background-color 0.1s;color:").concat(n===ue.Running?"var(--color-foreground-2)":"var(--color-positive-1)",";}"),".run-button.__jsx-style-dynamic-selector:hover{background-color:var(--color-positive-1);background-color:".concat(n===ue.Running?"var(--color-control-1)":"var(--color-positive-1)",";color:").concat(n===ue.Running?"var(--color-foreground-1)":"var(--color-white)",";}"),".run-button.__jsx-style-dynamic-selector:focus,.run-button.__jsx-style-dynamic-selector:active{outline:none;}",".repl-url-text.__jsx-style-dynamic-selector{max-width:140px;margin:0 var(--spacing-1);-webkit-flex:1 2 auto;-ms-flex:1 2 auto;flex:1 2 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--font-size-desktop-text-small);color:var(--color-foreground-2);}",".repl-link.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:var(--color-foreground-3);-webkit-transition:0.2s color;transition:0.2s color;}",".repl-link.__jsx-style-dynamic-selector:hover{color:var(--color-foreground-2);}","@media screen and (min-width:".concat(P.a,"px){.repl-url-text.__jsx-style-dynamic-selector{max-width:180px;}}")]})]})}function et(e){var t=e.children;return Object(r.jsxs)("div",{className:"jsx-1249681375",children:[t,Object(r.jsx)(l.a,{id:"1249681375",children:["div.jsx-1249681375{background-color:var(--color-background-1);border:1px solid var(--color-border);box-shadow:0px 8px 12px rgba(0,0,0,0.075);border-radius:var(--border-radius-1);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}"]})]})}function tt(e){var t=e.children;return Object(r.jsxs)("div",{className:"jsx-2138977741",children:[t,Object(r.jsx)(l.a,{id:"2138977741",children:[".jsx-2138977741{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;border-bottom-left-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);}"]})]})}function nt(e){var t=e.show,n=e.children,s=o.useState(t),a=Object(i.a)(s,2),c=a[0],u=a[1];return o.useEffect((function(){c||t&&u(!0)}),[t,c,u]),c?Object(r.jsxs)("div",{className:"jsx-1448956337 "+(fe()({"is-hidden":!t})||""),children:[n,Object(r.jsx)(l.a,{id:"1448956337",children:["div.jsx-1448956337{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;position:absolute;top:0;left:0;height:100%;width:100%;}","div.is-hidden.jsx-1448956337{visibility:hidden;}"]})]}):null}function rt(e){var t=e.initialViewMode,n=e.repl,s=e.currentUser,a=e.onUnrecoverableError,c=o.useState(void 0),h=Object(i.a)(c,2),f=h[0],p=h[1],g=o.useState(ue.Stopped),m=Object(i.a)(g,2),b=m[0],j=m[1],x=o.useState(t||le.Output),v=Object(i.a)(x,2),y=v[0],w=v[1],O=o.useState(null),k=Object(i.a)(O,2),S=k[0],C=k[1];o.useEffect((function(){if(!S&&(b===ue.Running||y===le.Code)){var e=Object(u.b)({onUnrecoverableError:a}),t=Object(d.a)({container:e});C({container:e,fs:t})}}),[S,y,b,a]);var _=o.useRef(!1);o.useEffect((function(){if(S&&!_.current)return S.container.connect({repl:n,currentUser:s}),_.current=!0,function(){S.container.destroy()}}),[S,n,s]);var E=n.config.domain?"https://".concat(n.config.domain):n.prodUrl,P=Boolean(s);return Object(r.jsxs)(et,{children:[Object(r.jsxs)(Ye,{repl:n,viewMode:y,onViewModeChange:w,isLoggedIn:P,children:[y===le.Output?Object(r.jsx)($e,{url:E,outputState:b,setOutputState:j}):null,y===le.Code&&null!==S&&void 0!==S&&S.fs?Object(r.jsx)(ce,{language:n.language,fs:S.fs,container:S.container,onActiveFilePathChange:p,activeFilePath:f}):null]}),Object(r.jsxs)(tt,{children:[b===ue.Stopped&&y===le.Output?Object(r.jsx)(_e,{isLoggedIn:P,repl:n,onClick:function(){j(ue.Running)}}):null,b===ue.Running?Object(r.jsx)(nt,{show:y===le.Output,children:Object(r.jsx)("iframe",{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",src:n.devUrl,className:"jsx-898323883"})}):null,Object(r.jsx)(nt,{show:y===le.Code,children:S?Object(r.jsx)(Y,{language:n.language,fs:S.fs,activeFilePath:f,onActiveFilePathChange:p}):null})]}),Object(r.jsx)(l.a,{id:"898323883",children:["iframe.jsx-898323883{width:100%;height:100%;display:block;background-color:var(--color-white);border-bottom-left-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);border:0px none;overflow:auto;}"]})]})}var it=n("LI1+"),ot=n("VZNv"),st=n("HADy"),at=n("gnTG"),ct=n("Zma6");function lt(e){var t=e.initialViewMode,n=e.repl,s=e.currentUser,a=e.onUnrecoverableError,c=o.useRef(!1),h=o.useRef(!1),f=o.useState(ue.Stopped),p=Object(i.a)(f,2),g=p[0],m=p[1],b=o.useState(st.b.OFFLINE),j=Object(i.a)(b,2),y=j[0],w=j[1],O=o.useState(t||le.Output),k=Object(i.a)(O,2),S=k[0],C=k[1],_=o.useState(void 0),E=Object(i.a)(_,2),P=E[0],N=E[1],R=o.useState(null),I=Object(i.a)(R,2),D=I[0],T=I[1],M=o.useState(!1),A=Object(i.a)(M,2),L=A[0],U=A[1],F=o.useRef(!1);o.useEffect((function(){null!==D&&(F.current=!0)}),[D]);var z=o.useState(null),V=Object(i.a)(z,2),B=V[0],W=V[1];o.useEffect((function(){if(B&&y===st.b.IDLE)return c.current&&B.runner.getRunState()===st.b.IDLE?(B.runner.run(),h.current=!0,void(c.current=!1)):void(h.current&&m((function(e){return e===ue.Stopped?ue.Stopped:ue.Ended})))}),[B,y]),o.useEffect((function(){y===st.b.RUNNING&&F.current&&T("vnc")}),[y]),o.useEffect((function(){B&&g===ue.Running&&(B.runner.getRunState()===st.b.IDLE?(B.runner.run(),h.current=!0):c.current=!0)}),[B,g]),o.useEffect((function(){B&&g===ue.Stopped&&B.runner.getRunState()===st.b.RUNNING&&(T(null),B.runner.stopRun())}),[B,g]),o.useEffect((function(){if(!B&&(g===ue.Running||S===le.Code)){var e=Object(u.b)({onUnrecoverableError:a}),t=Object(d.a)({container:e}),r=Object(at.a)({container:e}),i=Object(ot.a)({container:e,beforeRun:function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.lang.supportsPackager3){e.next=3;break}return e.next=3,r.installPackages();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});W({container:e,fs:t,runner:i,packager:r})}}),[n,g,S,B,a]);var q=o.useRef(!1);o.useEffect((function(){if(B&&!q.current){B.container.connect({repl:n,currentUser:s}),q.current=!0;var e=B.container.onPortOpened((function(e){e.forwarded&&T(e.isVnc?"vnc":"server")})),t=B.runner.onStateChanged(w),r=B.runner.onOutput((function(){F.current&&U(!0)}));return function(){e(),t(),r(),B.container.destroy()}}}),[B,n,s]);var K=Boolean(s);return Object(r.jsxs)(et,{children:[Object(r.jsxs)(Ye,{repl:n,viewMode:S,onViewModeChange:C,isLoggedIn:Boolean(s),children:[S===le.Output?Object(r.jsx)(Ze,{outputState:g,onClick:function(){if(g===ue.Stopped||g===ue.Ended)return m(ue.Running),void Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"terminalOutput"});g===ue.Running&&(Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"terminalOutput",stopping:!0}),m(ue.Stopped))}}):null,S===le.Code&&B?Object(r.jsx)(ce,{language:n.language,fs:B.fs,container:B.container,onActiveFilePathChange:N,activeFilePath:P}):null]}),Object(r.jsxs)(tt,{children:[g===ue.Stopped&&S===le.Output?Object(r.jsx)(_e,{isLoggedIn:K,repl:n,onClick:function(){m(ue.Running)}}):null,Object(r.jsx)(nt,{show:(g===ue.Running||g===ue.Ended)&&S===le.Output,children:Object(r.jsxs)("div",{className:"jsx-2923522319 "+(fe()("output-wrap",{"port-opened":D,"show-footer-terminal":L})||""),children:["vnc"===D&&B?Object(r.jsx)("div",{className:"jsx-2923522319 vnc-wrap",children:Object(r.jsx)(ct.a,{container:B.container,fs:B.fs})}):null,"server"===D&&B?Object(r.jsx)("div",{className:"jsx-2923522319 iframe-wrap",children:Object(r.jsx)("iframe",{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",src:n.devUrl,className:"jsx-2923522319"})}):null,B?Object(r.jsx)("div",{className:"jsx-2923522319 terminal-wrap",children:Object(r.jsx)(it.d,{packager:B.packager,runner:B.runner,languageHeader:n.lang.header||void 0,onClear:function(){return U(!1)}})}):null]})}),Object(r.jsx)(nt,{show:S===le.Code&&Boolean(B),children:B?Object(r.jsx)(Y,{language:n.language,fs:B.fs,activeFilePath:P,onActiveFilePathChange:N}):null})]}),Object(r.jsx)(l.a,{id:"2923522319",children:[".output-wrap.jsx-2923522319{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".vnc-wrap.jsx-2923522319,.iframe-wrap.jsx-2923522319{width:100%;height:100%;}",".terminal-wrap.jsx-2923522319{width:100%;height:100%;}",".port-opened.jsx-2923522319 .terminal-wrap.jsx-2923522319{position:absolute;visibility:hidden;}",".port-opened.show-footer-terminal.jsx-2923522319 .iframe-wrap.jsx-2923522319,.port-opened.show-footer-terminal.jsx-2923522319 .vnc-wrap.jsx-2923522319{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:70%;}",".port-opened.show-footer-terminal.jsx-2923522319 .terminal-wrap.jsx-2923522319{visibility:visible;position:relative;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:30%;}",".port-opened.show-footer-terminal.jsx-2923522319 .terminal-wrap.jsx-2923522319>.terminal{border-top-right-radius:0;border-top-left-radius:0;}","iframe.jsx-2923522319{width:100%;height:100%;display:block;background-color:var(--color-white);border-bottom-left-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);border:0px none;overflow:auto;}"]})]})}var ut=n("LTTG"),dt=n("EP3k");function ht(e){var t=e.replId,n=e.language,s="hostedUrl"in e?e.hostedUrl:void 0,a=o.useState((function(){return Object(ut.a)({beforeRun:function(){return Promise.resolve()},getMainFileContents:function(){return"fs"in e?Object(dt.a)({language:e.language,fs:e.fs}):Promise.resolve("")}})})),c=Object(i.a)(a,1)[0],u=o.useRef(null);return o.useEffect((function(){if(u.current){var e=!1;return c.load({replId:t,language:n,iframeParent:u.current,hostedUrl:s}).then((function(){e||c.run()})),function(){e=!0,c.getRunState()!==st.b.OFFLINE&&c.destroy()}}}),[c,t,n,s]),Object(r.jsxs)("div",{className:"jsx-1810082141 repl-box-wrapper",children:[Object(r.jsx)("div",{ref:u,className:"jsx-1810082141 iframe-container"}),Object(r.jsx)(l.a,{id:"1810082141",children:[".repl-box-wrapper.jsx-1810082141,.iframe-container.jsx-1810082141{height:100%;width:100%;}",".iframe-container.jsx-1810082141 iframe{background:white;width:100%;height:100%;border:none;display:block;border-bottom-right-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);}"]})]})}function ft(e){var t=e.initialViewMode,n=e.repl,s=e.currentUser,a=e.onUnrecoverableError,c=o.useState(ue.Stopped),l=Object(i.a)(c,2),h=l[0],f=l[1],p=o.useState(t||le.Output),g=Object(i.a)(p,2),m=g[0],b=g[1],j=o.useState(void 0),x=Object(i.a)(j,2),v=x[0],y=x[1],w="html"===n.language||"kaboom"===n.language,O=o.useState(null),k=Object(i.a)(O,2),S=k[0],C=k[1];o.useEffect((function(){if(!S&&(m===le.Code||!w)){var e=Object(u.b)({onUnrecoverableError:a}),t=Object(d.a)({container:e});C({container:e,fs:t})}}),[S,m,h,a,w]);var _=o.useRef(!1);o.useEffect((function(){if(S&&!_.current)return S.container.connect({repl:n,currentUser:s}),_.current=!0,function(){S.container.destroy()}}),[S,n,s]);var E=n.config.domain?"https://".concat(n.config.domain):n.prodUrl,P=Boolean(s);return Object(r.jsxs)(et,{children:[Object(r.jsxs)(Ye,{repl:n,viewMode:m,onViewModeChange:b,isLoggedIn:P,children:[m===le.Output?Object(r.jsx)($e,{url:E,outputState:h,setOutputState:f}):null,m===le.Code&&null!==S&&void 0!==S&&S.fs?Object(r.jsx)(ce,{language:n.language,fs:S.fs,container:S.container,onActiveFilePathChange:y,activeFilePath:v}):null]}),Object(r.jsxs)(tt,{children:[h===ue.Stopped&&m===le.Output?Object(r.jsx)(_e,{isLoggedIn:P,repl:n,onClick:function(){f(ue.Running)}}):null,h===ue.Running?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(nt,{show:w&&m===le.Output,children:Object(r.jsx)(ht,{replId:n.id,language:"html",displayUrl:E,hostedUrl:n.devUrl})}),Object(r.jsx)(nt,{show:!w&&m===le.Output,children:S?Object(r.jsx)(ht,{replId:n.id,language:n.language,fs:S.fs}):null})]}):null,Object(r.jsx)(nt,{show:m===le.Code,children:S?Object(r.jsx)(Y,{language:n.language,fs:S.fs,activeFilePath:v,onActiveFilePathChange:y}):null})]})]})}var pt=n("z7pX"),gt=n("8axe"),mt=n("5sjI"),bt=I()((function(){return Promise.all([n.e(40),n.e(44)]).then(n.bind(null,"yR2o"))}),{loadableGenerated:{webpack:function(){return["yR2o"]},modules:["../../workspace/plugins/console/Console"]}});function jt(e){var t=e.initialViewMode,n=e.repl,s=e.currentUser,a=e.onUnrecoverableError,c=o.useState(""),h=Object(i.a)(c,2),f=h[0],p=h[1],g=o.useState([]),m=Object(i.a)(g,2),b=m[0],j=m[1],y=o.useRef(!1),w=o.useRef(!1),O=o.useState(ue.Stopped),k=Object(i.a)(O,2),S=k[0],C=k[1],_=o.useState(st.b.OFFLINE),E=Object(i.a)(_,2),P=E[0],N=E[1],R=o.useState(t||le.Output),I=Object(i.a)(R,2),D=I[0],T=I[1],M=o.useState(void 0),A=Object(i.a)(M,2),L=A[0],U=A[1],F=o.useState(null),z=Object(i.a)(F,2),V=z[0],B=z[1];o.useEffect((function(){if(V&&P===st.b.IDLE)return y.current?(V.replbox.run(),w.current=!0,void(y.current=!1)):void(w.current&&C((function(e){return e===ue.Stopped?ue.Stopped:ue.Ended})))}),[V,P]),o.useEffect((function(){V&&S===ue.Running&&(V.replbox.getRunState()===st.b.IDLE?(V.replbox.run(),w.current=!0):y.current=!0)}),[V,S]),o.useEffect((function(){V&&S===ue.Stopped&&V.replbox.getRunState()===st.b.RUNNING&&V.replbox.stopRun()}),[V,S]),o.useEffect((function(){if(!V&&(S===ue.Running||D===le.Code)){var e=Object(u.b)({onUnrecoverableError:a}),t=Object(d.a)({container:e}),r=Object(ut.a)({beforeRun:function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMainFileContents:function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(dt.a)({fs:t,language:n.lang.id}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});r.onOutput((function(e){j((function(t){return[].concat(Object(pt.a)(t),[{data:e,type:""}])}))})),B({container:e,fs:t,replbox:r})}}),[n,S,D,V,a]);var W=o.useRef(!1);o.useEffect((function(){if(V&&!W.current){V.container.connect({repl:n,currentUser:s}),W.current=!0,V.replbox.load({language:n.lang.id,replId:n.id});var e=V.replbox.onStateChanged(N);return function(){e(),V.container.destroy()}}}),[V,n,s]);var q=n.lang.header,K={data:"".concat(q,"\n"),type:""},J=q?[K].concat(Object(pt.a)(b)):b,G=Boolean(s);return Object(r.jsxs)(et,{children:[Object(r.jsxs)(Ye,{repl:n,viewMode:D,onViewModeChange:T,isLoggedIn:Boolean(s),children:[D===le.Output?Object(r.jsx)(Ze,{outputState:S,onClick:function(){if(S===ue.Stopped||S===ue.Ended)return C(ue.Running),void Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"consoleOutput"});S===ue.Running&&(Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"consoleOutput",stopping:!0}),C(ue.Stopped))}}):null,D===le.Code&&V?Object(r.jsx)(ce,{language:n.language,fs:V.fs,container:V.container,onActiveFilePathChange:U,activeFilePath:L}):null]}),Object(r.jsxs)(tt,{children:[S===ue.Stopped&&D===le.Output?Object(r.jsx)(_e,{isLoggedIn:G,repl:n,onClick:function(){C(ue.Running)}}):null,Object(r.jsx)(nt,{show:(S===ue.Running||S===ue.Ended)&&D===le.Output,children:Object(r.jsx)("div",{className:"jsx-1556485210 console-wrap",children:V?Object(r.jsx)(bt,{messages:J,clearConsole:function(){return j([])},setPromptValue:p,onEval:function(e){V&&P!==st.b.STOPPING&&P===st.b.IDLE&&V.replbox.evalCode(e)},promptState:P!==st.b.IDLE?"input":"prompt",checkLineEnd:function(e,t){Object(gt.checkLineEnd)(n.lang.id,e,t)},promptValue:f,loading:P===st.b.OFFLINE}):Object(r.jsx)(mt.a,{messages:J})})}),Object(r.jsx)(nt,{show:D===le.Code&&Boolean(V),children:V?Object(r.jsx)(Y,{language:n.language,fs:V.fs,activeFilePath:L,onActiveFilePathChange:U}):null})]}),Object(r.jsx)(l.a,{id:"1556485210",children:[".console-wrap.jsx-1556485210{width:100%;height:100%;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);}"]})]})}var xt=I()((function(){return Promise.all([n.e(40),n.e(44)]).then(n.bind(null,"yR2o"))}),{loadableGenerated:{webpack:function(){return["yR2o"]},modules:["../../workspace/plugins/console/Console"]}});function vt(e){var t=e.initialViewMode,n=e.repl,a=e.currentUser,c=e.onUnrecoverableError,h=o.useState(""),f=Object(i.a)(h,2),p=f[0],g=f[1],m=o.useState(n.lang.header?[{data:"".concat(n.lang.header,"\n"),type:""}]:[]),b=Object(i.a)(m,2),j=b[0],x=b[1],v=o.useRef(!1),y=o.useRef(!1),w=o.useState(ue.Stopped),O=Object(i.a)(w,2),k=O[0],S=O[1],C=o.useState(st.b.OFFLINE),_=Object(i.a)(C,2),E=_[0],P=_[1],N=o.useState(t||le.Output),R=Object(i.a)(N,2),I=R[0],D=R[1],T=o.useState(void 0),M=Object(i.a)(T,2),A=M[0],L=M[1],U=o.useState(null),F=Object(i.a)(U,2),z=F[0],V=F[1],B=o.useState(null),W=Object(i.a)(B,2),q=W[0],K=W[1];o.useEffect((function(){if(z&&E===st.b.IDLE)return v.current?(y.current=!0,void(v.current=!1)):void(y.current&&S((function(e){return e===ue.Stopped?ue.Stopped:ue.Ended})))}),[z,E]),o.useEffect((function(){if(z&&q&&k===ue.Running){if(z.container.getConnectionState()===u.a.CONNECTED){var e=!1;return Object(dt.a)({fs:z.fs,language:n.lang.id}).then((function(t){!e&&q&&q.send({eval:t})})),function(){e=!0}}v.current=!0}}),[z,q,k,n.lang.id]),o.useEffect((function(){k===ue.Stopped&&E===st.b.RUNNING&&(P(st.b.IDLE),x([]))}),[z,E,k,n.lang.id]),o.useEffect((function(){if(!z&&(k===ue.Running||I===le.Code)){var e=Object(u.b)({onUnrecoverableError:c}),t=Object(d.a)({container:e});V({container:e,fs:t})}}),[n,k,I,z,c]),o.useEffect((function(){if(z){z.container.connect({repl:n,currentUser:a});var e=z.container.openChannel({service:"eval",name:"evaler"},(function(e){e.channel&&K(e.channel)}));return function(){e(),z.container.destroy()}}}),[z,n,a]);var J=function(e){return x((function(t){return[].concat(Object(pt.a)(t),[e])}))};o.useEffect((function(){if(q)return q.onCommand((function(e){switch(e.body){case"output":return void J({data:e.output,type:""});case"error":return J({data:e.error,type:"error"}),void P(st.b.IDLE);case"result":return J({data:e.result,type:"result"}),void P(st.b.IDLE);case"eval":return void P(st.b.RUNNING);case"hint":if(!e.hint||!e.hint.text)return;return void J({data:"\x1b[0m\x1b[33m".concat(e.hint.text,"\x1b[0m\r\n"),type:""});case"input":return void J({data:e.output,type:""});default:s.c(new Error("Unknown eval command ".concat(e.body,". Expected output, error, state or result")))}}))}),[q]);var G=Boolean(a);return Object(r.jsxs)(et,{children:[Object(r.jsxs)(Ye,{repl:n,viewMode:I,onViewModeChange:D,isLoggedIn:G,children:[I===le.Output?Object(r.jsx)(Ze,{outputState:k,onClick:function(){if(k===ue.Stopped||k===ue.Ended)return S(ue.Running),void Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"consoleOutput"});k===ue.Running&&(Object(pe.track)(pe.events.RUN_BUTTON_CLICKED,{context:"replView",type:"consoleOutput",stopping:!0}),S(ue.Stopped))}}):null,I===le.Code&&z?Object(r.jsx)(ce,{language:n.language,fs:z.fs,container:z.container,onActiveFilePathChange:L,activeFilePath:A}):null]}),Object(r.jsxs)(tt,{children:[k===ue.Stopped&&I===le.Output?Object(r.jsx)(_e,{isLoggedIn:G,repl:n,onClick:function(){S(ue.Running)}}):null,Object(r.jsx)(nt,{show:(k===ue.Running||k===ue.Ended)&&I===le.Output,children:Object(r.jsx)("div",{className:"jsx-1556485210 console-wrap",children:z?Object(r.jsx)(xt,{messages:j,clearConsole:function(){return x([])},setPromptValue:g,onEval:function(e){q&&E===st.b.IDLE&&q.send({eval:e})},promptState:E!==st.b.IDLE?"input":"prompt",checkLineEnd:function(e,t){Object(gt.checkLineEnd)(n.lang.id,e,t)},promptValue:p,loading:E===st.b.OFFLINE}):Object(r.jsx)(mt.a,{messages:j})})}),Object(r.jsx)(nt,{show:I===le.Code&&Boolean(z),children:z?Object(r.jsx)(Y,{language:n.language,fs:z.fs,activeFilePath:A,onActiveFilePathChange:L}):null})]}),Object(r.jsx)(l.a,{id:"1556485210",children:[".console-wrap.jsx-1556485210{width:100%;height:100%;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);}"]})]})}function yt(e){var t=e.repl,n=e.currentUser,c=e.initialViewMode,l=o.useState(""),u=Object(i.a)(l,2),d=u[0],h=u[1],f=o.useCallback((function(e){s.m((function(t){t.setTag("bsod","true"),t.setTag("replviewer","true"),console.error(e);var n=s.c(e);h(n)}))}),[]),p=function(e){return e.config.isServer?de.Webview:e.config.isVnc||e.lang.canUseShellRunner?de.Terminal:"replbox"===e.lang.engine?["basic","python_turtle","html","kaboom"].includes(e.lang.id)?de.ReplboxWebview:de.ReplboxConsole:"goval"===e.lang.engine?de.GovalConsole:null}(t);return o.useEffect((function(){Object(pe.track)(pe.events.REPL_VIEWER_RENDERED,{outputType:p,language:t.language,isVnc:t.config.isVnc,isServer:t.config.isServer})}),[p,t]),d?Object(r.jsx)(a.a,{user:n?{email:n.email,username:n.username}:void 0,sentryEventId:d,devHide:function(){return h("")}}):p===de.Webview?Object(r.jsx)(rt,{initialViewMode:c,repl:t,currentUser:n,onUnrecoverableError:f}):p===de.Terminal?Object(r.jsx)(lt,{initialViewMode:c,repl:t,currentUser:n,onUnrecoverableError:f}):p===de.ReplboxWebview?Object(r.jsx)(ft,{initialViewMode:c,repl:t,currentUser:n,onUnrecoverableError:f}):p===de.ReplboxConsole?Object(r.jsx)(jt,{initialViewMode:c,repl:t,currentUser:n,onUnrecoverableError:f}):p===de.GovalConsole?Object(r.jsx)(vt,{initialViewMode:c,repl:t,currentUser:n,onUnrecoverableError:f}):null}},R84t:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("cpVT"),i=n("nKUr"),o=(n("q1tI"),n("pDQI"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return Object(i.jsx)(o.a,a(a({},e),{},{children:Object(i.jsx)("path",{d:"M20.25 11.567a.5.5 0 010 .866l-13.5 7.794a.5.5 0 01-.75-.433V4.206a.5.5 0 01.75-.433l13.5 7.794z"})}))}},"UKf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("cpVT"),i=n("nKUr"),o=(n("q1tI"),n("pDQI"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return Object(i.jsxs)(o.a,a(a({},e),{},{children:[Object(i.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{d:"M12 7V12.3333L16 15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},WQMp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return k}));const r=1024;let i=0;const o=new WeakMap;class s{constructor({deserialize:e}={}){this.id=i++,this.deserialize=e||(()=>{throw new Error("This node type doesn't define a deserialize function")})}static string(){return new s({deserialize:e=>e})}static number(){return new s({deserialize:Number})}static flag(){return new s({deserialize:()=>!0})}set(e,t){return e[this.id]=t,e}add(e){return"function"!=typeof e&&(e=c.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}s.closedBy=new s({deserialize:e=>e.split(" ")}),s.openedBy=new s({deserialize:e=>e.split(" ")}),s.group=new s({deserialize:e=>e.split(" ")});const a=Object.create(null);class c{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):a,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new c(e.name||"",t,e.id,n);if(e.props)for(let i of e.props)Array.isArray(i)||(i=i(r)),i&&i[0].set(t,i[1]);return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(s.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(s.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}}c.none=new c("",Object.create(null),0,8);class l{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),e[0].set(r,e[1]))}t.push(r?new c(n.name,r,n.id,n.flags):n)}return new l(t)}}class u{constructor(e,t,n,r){this.type=e,this.children=t,this.positions=n,this.length=r}toString(){let e=this.children.map((e=>e.toString())).join();return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(e,t=0){let n=null!=e&&o.get(this)||this.topNode,r=new b(n);return null!=e&&(r.moveTo(e,t),o.set(this,r._tree)),r}fullCursor(){return new b(this.topNode,!0)}get topNode(){return new f(this,0,0,null)}resolve(e,t=0){return this.cursor(e,t).node}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e;for(let o=this.cursor();;){let e=!1;if(o.from<=i&&o.to>=r&&(o.type.isAnonymous||!1!==t(o.type,o.from,o.to))){if(o.firstChild())continue;o.type.isAnonymous||(e=!0)}for(;e&&n&&n(o.type,o.from,o.to),e=o.type.isAnonymous,!o.nextSibling();){if(!o.parent())return;e=!0}}}balance(e=r){return this.children.length<=v?this:y(this.type,c.none,this.children,this.positions,0,this.children.length,0,e,this.length,0)}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,topID:o=0,maxBufferLength:s=r,reused:a=[],minRepeatType:l=i.types.length}=e,f=Array.isArray(n)?new x(n,n.length):n,p=i.types,g=0;function m(e,t,n,r,o){let{id:x,start:w,end:O,size:k}=f,S=w-e;if(k<0)return-1==k?(n.push(a[x]),r.push(S)):g=x,void f.next();let C,_,E=p[x];if(O-w<=s&&(_=b(f.pos-t,o))){let t=new Uint16Array(_.size-_.skip),n=f.pos-_.size,r=t.length;for(;f.pos>n;)r=j(_.start,t,r,o);C=new h(t,O-_.start,i,o<0?c.none:p[o]),S=_.start-e}else{let e=f.pos-k;f.next();let t=[],n=[],r=x>=l?x:-1;for(;f.pos>e;)f.id==r?f.next():m(w,e,t,n,r);t.reverse(),n.reverse(),C=r>-1&&t.length>v?y(E,E,t,n,0,t.length,0,s,O-w,g):d(new u(E,t,n,O-w),g)}n.push(C),r.push(S)}function b(e,t){let n=f.fork(),r=0,i=0,o=0,a=n.end-s,c={size:0,start:0,skip:0};e:for(let s=n.pos-e;n.pos>s;){if(n.id==t){c.size=r,c.start=i,c.skip=o,o+=4,r+=4,n.next();continue}let e=n.size,u=n.pos-e;if(e<0||u<s||n.start<a)break;let d=n.id>=l?4:0,h=n.start;for(n.next();n.pos>u;){if(n.size<0)break e;n.id>=l&&(d+=4),n.next()}i=h,r+=e,o+=d}return(t<0||r==e)&&(c.size=r,c.start=i,c.skip=o),c.size>4?c:void 0}function j(e,t,n,r){let{id:i,start:o,end:s,size:a}=f;if(f.next(),i==r)return n;let c=n;if(a>4){let i=f.pos-(a-4);for(;f.pos>i;)n=j(e,t,n,r)}return i<l&&(t[--n]=c,t[--n]=s-e,t[--n]=o-e,t[--n]=i),n}let w=[],O=[];for(;f.pos>0;)m(e.start||0,0,w,O,-1);let k=null!==(t=e.length)&&void 0!==t?t:w.length?O[0]+w[0].length:0;return new u(p[o],w.reverse(),O.reverse(),k)}(e)}}function d(e,t){return t&&(e.contextHash=t),e}u.empty=new u(c.none,[],[],0);class h{constructor(e,t,n,r=c.none){this.buffer=e,this.length=t,this.set=n,this.type=r}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,n,r){let{buffer:i}=this,o=-1;for(let s=e;s!=t;s=i[s+3])if(-1e8!=r){let e=i[s+1],t=i[s+2];if(n>0){if(t>r&&(o=s),t>r)break}else if(e<r&&(o=s),t>=r)break}else if(o=s,n>0)break;return o}}class f{constructor(e,t,n,r){this.node=e,this.from=t,this.index=n,this._parent=r}get type(){return this.node.type}get name(){return this.node.type.name}get to(){return this.from+this.node.length}nextChild(e,t,n,r=!1){for(let i=this;;){for(let{children:o,positions:s}=i.node,a=t>0?o.length:-1;e!=a;e+=t){let a=o[e],c=s[e]+i.from;if(-1e8==n||!(t<0?c>=n:c+a.length<=n))if(a instanceof h){let r=a.findChild(0,a.buffer.length,t,-1e8==n?-1e8:n-c);if(r>-1)return new m(new g(i,a,e,c),null,r)}else if(r||!a.type.isAnonymous||j(a)){let o=new f(a,c,e,i);return r||!o.type.isAnonymous?o:o.nextChild(t<0?a.children.length-1:0,t,n)}}if(r||!i.type.isAnonymous)return null;if(e=i.index+t,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,-1e8)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,-1e8)}childAfter(e){return this.nextChild(0,1,e)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null}get prevSibling(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null}get cursor(){return new b(this)}resolve(e,t=0){return this.cursor.moveTo(e,t).node}getChild(e,t=null,n=null){let r=p(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return p(this,e,t,n)}toString(){return this.node.toString()}}function p(e,t,n,r){let i=e.cursor,o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}class g{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class m{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t){let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],e,-1e8==t?-1e8:t-this.context.start);return r<0?null:new m(this.context,this,r)}get firstChild(){return this.child(1,-1e8)}get lastChild(){return this.child(-1,-1e8)}childAfter(e){return this.child(1,e)}childBefore(e){return this.child(-1,e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,-1)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new m(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new m(this.context,this._parent,e.findChild(t,this.index,-1,-1e8))}get cursor(){return new b(this)}resolve(e,t=0){return this.cursor.moveTo(e,t).node}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=p(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return p(this,e,t,n)}}class b{constructor(e,t=!1){if(this.full=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof f)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof f?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enter(e,t){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,this.full));let{buffer:n}=this.buffer,r=n.findChild(this.index+4,n.buffer[this.index+3],e,-1e8==t?-1e8:t-this.buffer.start);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enter(1,-1e8)}lastChild(){return this.enter(-1,-1e8)}childAfter(e){return this.enter(1,e)}childBefore(e){return this.enter(-1,e)}parent(){if(!this.buffer)return this.yieldNode(this.full?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.full?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree._parent.nextChild(this._tree.index+e,e,-1e8,this.full));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,-1e8))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,-1e8,this.full))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))for(let r=t+e,i=e<0?-1:n.node.children.length;r!=i;r+=e){let e=n.node.children[r];if(this.full||!e.type.isAnonymous||e instanceof h||j(e))return!1}return!0}move(e){if(this.enter(e,-1e8))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){return this.move(1)}prev(){return this.move(-1)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;t<0?this.childBefore(e):this.childAfter(e);)if(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e)){this.parent();break}return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(let r=n;r<this.stack.length;r++)t=new m(this.buffer,t,this.stack[r]);return this.bufferNode=new m(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function j(e){return e.children.some((e=>!e.type.isAnonymous||e instanceof h||j(e)))}class x{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new x(this.buffer,this.index)}}const v=8;function y(e,t,n,r,i,o,s,a,l,h){let f=[],p=[];if(l<=a)for(let c=i;c<o;c++)f.push(n[c]),p.push(r[c]-s);else{let e=Math.max(a,Math.ceil(1.5*l/v));for(let l=i;l<o;){let i=l,g=r[l];for(l++;l<o;l++){if(r[l]+n[l].length-g>e)break}if(l==i+1){let r=n[i];if(r instanceof u&&r.type==t&&r.length>e<<1){for(let e=0;e<r.children.length;e++)f.push(r.children[e]),p.push(r.positions[e]+g-s);continue}f.push(r)}else if(l==i+1)f.push(n[i]);else{let e=y(t,t,n,r,i,l,g,a,r[l-1]+n[l-1].length-g,h);t==c.none||w(e.children,t)||(e=d(new u(c.none,e.children,e.positions,e.length),h)),f.push(e)}p.push(g-s)}}return d(new u(e,f,p,l),h)}function w(e,t){for(let n of e)if(n.type==t)return!0;return!1}class O{constructor(e,t,n,r,i){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=i}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,o=e.length?e[0]:null,s=0,a=0,c=0;for(;;){let l=s<t.length?t[s++]:null,u=l?l.fromA:1e9;if(u-a>=n)for(;o&&o.from<u;){let t=o;if(a>=t.from||u<=t.to||c){let e=Math.max(t.from,a)-c,n=Math.min(t.to,u)-c;t=e>=n?null:new O(e,n,t.tree,t.offset+c,(s>0?1:0)|(l?2:0))}if(t&&r.push(t),o.to>u)break;o=i<e.length?e[i++]:null}if(!l)break;a=l.toA,c=l.toA-l.toB}return r}static addTree(e,t=[],n=!1){let r=[new O(0,e.length,e,0,n?2:0)];for(let i of t)i.to>e.length&&r.push(i);return r}}function k(e){return new S(e)}class S{constructor(e,t=e.length){this.string=e,this.length=t}get(e){return e<0||e>=this.length?-1:this.string.charCodeAt(e)}lineAfter(e){if(e<0)return"";let t=this.string.indexOf("\n",e);return this.string.slice(e,t<0?this.length:Math.min(t,this.length))}read(e,t){return this.string.slice(e,Math.min(this.length,t))}clip(e){return new S(this.string,e)}}},ceSv:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("nKUr"),i=n("cpVT"),o=n("xvhg"),s=n("dhJC"),a=n("MX0m"),c=n.n(a),l=n("q1tI"),u=n("up5I"),d=n("tidx"),h=n("TeFj"),f=n("8Vt8"),p=n("sMwv");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=e.replId,n=e.onFork,i=e.isLoggedIn,a=e.onAuthCancel,g=e.trackingContext,b=e.caption,j=void 0===b?"Fork":b,x=Object(s.a)(e,["replId","onFork","isLoggedIn","onAuthCancel","trackingContext","caption"]),v=l.useState(!1),y=Object(o.a)(v,2),w=y[0],O=y[1];l.useEffect((function(){!w&&a&&a()}),[w,a]);var k=Object(p.a)({onFork:n}),S=Object(o.a)(k,2),C=S[0],_=S[1].loading;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,m(m({},x),{},{Icon:"Fork"===j?h.a:void 0,disabled:_,onClick:function(e){x.onClick&&x.onClick(e),i?_||C(t,{trackingData:{context:g}}):O(!0)},children:_?Object(r.jsx)("div",{className:"jsx-2773924457 loading",children:"Forking"}):j})),i?null:Object(r.jsx)(f.a,{isOpen:w,onRequestClose:function(){O(!1)},children:Object(r.jsx)(d.a,{title:"Sign up or log in to fork this repl",onSuccess:function(e){e&&C(t,{trackingData:{context:g,authType:i?"login":"signup"}})}})}),Object(r.jsx)(c.a,{id:"2773924457",children:[".loading.jsx-2773924457{width:45px;}",".loading.jsx-2773924457:after{display:inline-block;-webkit-animation:ellipsis-jsx-2773924457 steps(1,end) 1s infinite;animation:ellipsis-jsx-2773924457 steps(1,end) 1s infinite;content:'';}","@-webkit-keyframes ellipsis-jsx-2773924457{0%{content:'';}25%{content:'.';}50%{content:'..';}75%{content:'...';}100%{content:'';}}","@keyframes ellipsis-jsx-2773924457{0%{content:'';}25%{content:'.';}50%{content:'..';}75%{content:'...';}100%{content:'';}}"]})]})}},hzRC:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return P}));var r=n("nKUr"),i=n("cpVT"),o=n("xvhg"),s=n("dhJC"),a=n("MX0m"),c=n.n(a),l=n("q1tI"),u=n("GRpk"),d=n("TSYQ"),h=n.n(d),f=n("9/5/"),p=n.n(f),g=n("Dtuc"),m=n("/+LJ"),b=n("RB+8"),j=n("koLh");function x(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){return e.theme?w(w({},e),{},{theme:Object(b.c)(e.theme)}):e}function k(e){return w(w({},e),{},{theme:e.theme.includes("textmate")?"replitLight":"replitDark"})}function S(e){var t=e.onChange,n=e.onCursorSelectionChange,r=e.onOptionsChange,i=e.initialOptions,s=void 0===i?{}:i,a=function(){var e=l.useState(null),t=Object(o.a)(e,2),n=t[0],r=t[1];return l.useEffect((function(){var e=!0;return Object(g.a)().then((function(t){e&&r(t)})),function(){e=!1}}),[]),n}(),c=l.useState(0),u=Object(o.a)(c,2),d=u[0],h=u[1],f=l.useState(null),v=Object(o.a)(f,2),y=v[0],S=v[1],C=l.useState(null),_=Object(o.a)(C,2),E=_[0],P=_[1],N=l.useRef(s);l.useEffect((function(){N.current=s}),[s]);var R=l.useRef(t);l.useEffect((function(){R.current=t}),[t]);var I=l.useRef(n);l.useEffect((function(){I.current=n}),[n]);var D=l.useRef(r);l.useEffect((function(){D.current=r}),[r]);var T=l.useCallback((function(e){null!==e&&S(e)}),[]),M=Object(j.a)((function(e){return h(e.width||0)}),{type:"throttle",wait:100});return l.useEffect((function(){E&&E.resize()}),[d,E]),l.useEffect((function(){y&&M(y)}),[y,M]),l.useLayoutEffect((function(){if(a&&y){var e=a.edit(y);e.renderer.setHScrollBarAlwaysVisible(!1),e.setShowPrintMargin(!1),e.getSession().setUseWrapMode(!0);r(w(w(w({},{fontSize:"14px",scrollPastEnd:.5,enableBasicAutocompletion:!0,newLineMode:"unix",fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace"}),N.current),{},{theme:N.current.theme||Object(b.d)()}),{silent:!0});var t=!1;e.on("change",(function(n){if(R.current&&!t){var r=e.getSession().getDocument().positionToIndex(n.start,0),i=r>0?[r]:[],o=n.lines.join("\n");"insert"===n.action?(i.push(o),R.current({value:e.getValue(),ops:i})):"remove"===n.action&&(i.push({d:o.length}),R.current({value:e.getValue(),ops:i}))}})),e.on("changeSelection",p()((function(){if(I.current&&e.isFocused()){var t=e.getSession(),n=e.getSelection(),r=t.getDocument(),i=n.getCursor(),o=n.getRange();I.current({cursor:w(w({},i),{},{index:r.positionToIndex(i)}),range:{start:w(w({},o.start),{},{index:r.positionToIndex(o.start)}),end:w(w({},o.end),{},{index:r.positionToIndex(o.end)})}})}}),200)),e.on("blur",(function(){I.current&&I.current(null)}));var n=function(t){var n=e.getSession(),r=n.getDocument(),i=t.indexStart,o=t.indexEnd,s=t.color,c=t.className||"",l=void 0!==t.opacity?t.opacity:.2,u="position: absolute; background-color: ".concat(s,"; opacity: ").concat(l,";"),d=r.indexToPosition(i,0),h=r.indexToPosition(o,0),f=a.Range.fromPoints(n.documentToScreenPosition(d),n.documentToScreenPosition(h));if(f.isEmpty())return function(){return null};var p=n.addDynamicMarker({update:function(e,t){f.isMultiLine()?t.drawTextMarker(e,f,c,t.config,u):t.drawSingleLineMarker(e,f,c,t.config,0,u)}});return function(){n.removeMarker(p.id)}};return P({writeOtOps:function(n){var r=e.getSession(),i=r.getDocument();t=!0;var o,s=0,c=x(n);try{for(c.s();!(o=c.n()).done;){var l=o.value;if("string"===typeof l)r.insert(i.indexToPosition(s,0),l),s+=l.length;else if("object"===typeof l&&"number"===typeof l.d){var u=i.indexToPosition(s,0),d=i.indexToPosition(s+l.d,0),h=new a.Range(u.row,u.column,d.row,d.column);r.remove(h)}else"number"===typeof l&&(s+=l)}}catch(f){c.e(f)}finally{c.f()}t=!1},focus:function(){e.focus()},setValue:function(n){t=!0,e.setValue(n,-1),t=!1},setPath:function(t){var n=Object(m.a)({ace:a,path:t});e.getSession().setMode(n)},setOptions:r,getOptions:function(){return k(e.getOptions())},addCommand:function(t){return e.commands.addCommand(t),function(){e.commands.removeCommand(t)}},removeCommand:function(t){e.commands.removeCommand(t)},setSelections:function(t){var r=e.getSession(),i=r.getMarkers();i&&Object.values(i).forEach((function(e){return r.removeMarker(e.id)})),t.forEach(n)},resize:function(){e.resize()},getRenderer:function(){return e.renderer}}),function(){var t=a.require("ace/edit_session").EditSession;e.setSession(new t("")),e.destroy(),P(null)}}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1},r=n.silent;e.setOptions(O(t)),D.current&&!r&&D.current(k(e.getOptions()))}}),[a,y]),[E,T]}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t,n=e.editorRef,i=e.isLoading,a=Object(s.a)(e,["editorRef","isLoading"]),u=l.useState(Boolean(null===(t=a.initialOptions)||void 0===t?void 0:t.readOnly)),d=Object(o.a)(u,2),f=d[0],p=d[1],g=S(_(_({},a),{},{onOptionsChange:function(e){p(e.readOnly),a.onOptionsChange&&a.onOptionsChange(e)}})),m=Object(o.a)(g,2),b=m[0],j=m[1];return l.useEffect((function(){if(n)return n(b),function(){n(null)}}),[n,b]),Object(r.jsxs)("div",{className:"jsx-3040802251 "+(h()("editor",{"is-read-only":f})||""),children:[Object(r.jsx)(N,{ref:j}),!b||i?Object(r.jsx)("div",{className:"jsx-3040802251 loader",children:Object(r.jsx)(P,{})}):null,Object(r.jsx)(c.a,{id:"3738224526",children:[".editor.jsx-3040802251{position:relative;height:100%;width:100%;}",".loader.jsx-3040802251{position:absolute;left:0;top:0;height:100%;width:100%;overflow:hidden;z-index:5;}",".editor.is-read-only.jsx-3040802251 .ace_cursor{opacity:0 !important;}",".editor.jsx-3040802251 .ace_content{line-height:1;}"]}),Object(r.jsx)(c.a,{id:"2666048492",children:[".ace_editor{background-color:var(--color-background-1);border-radius:var(--border-radius-1);font-family:var(--font-family-monospace) !important;}",".ace_content{background-color:var(--color-background-1) !important;}",".ace_gutter{background-color:var(--color-background-1) !important;color:var(--color-foreground-3) !important;}",".ace_gutter-cell{padding-right:var(--spacing-3) !important;padding-left:var(--spacing-1) !important;}",".ace_placeholder{color:var(--color-foreground-1) !important;font-family:var(--font-family-monospace) !important;font-size:var(--font-size-desktop-text-small) !important;line-height:1 !important;-webkit-transform:none !important;-ms-transform:none !important;transform:none !important;}",".ace-dracula .ace_marker-layer .ace_active-line{opacity:0.4;}",".ace_gutter-active-line{background-color:transparent !important;}",".ace_fold{background:var(--color-primary-transparent-1) !important;border:1px solid var(--color-primary-1) !important;border-radius:var(--border-radius-2) !important;-webkit-transition:-webkit-transform 0.1s;-webkit-transition:transform 0.1s;transition:transform 0.1s;}",".ace_fold:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}"]})]})}function P(){return Object(r.jsxs)("div",{className:"jsx-1258544441 loader",children:[Object(r.jsxs)(u.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",uniquekey:"editorLoader",children:[Object(r.jsx)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-1258544441"}),Object(r.jsx)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-1258544441"})]}),Object(r.jsx)(c.a,{id:"1258544441",children:[".loader.jsx-1258544441{background-color:var(--color-background-1);padding:var(--spacing-2);overflow:hidden;height:100%;width:100%;opacity:0;-webkit-animation:fadeIn-jsx-1258544441 ease 0s forwards;animation:fadeIn-jsx-1258544441 ease 0s forwards;-webkit-animation-delay:200ms;animation-delay:200ms;}",".loader.jsx-1258544441>svg{max-width:640px;min-width:500px;height:auto;}","@media screen and (min-width:900px){.loader.jsx-1258544441{padding-left:var(--spacing-4);}}","@-webkit-keyframes fadeIn-jsx-1258544441{0%{opacity:0;}100%{opacity:1;}}","@keyframes fadeIn-jsx-1258544441{0%{opacity:0;}100%{opacity:1;}}"]})]})}var N=l.forwardRef((function(e,t){return Object(r.jsx)("div",_(_({ref:t},e),{},{className:"jsx-447081000 "+(e&&null!=e.className&&e.className||""),children:Object(r.jsx)(c.a,{id:"447081000",children:["div.jsx-447081000{position:relative;height:100%;}"]})}))}))},jmGw:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("nKUr"),i=n("H+61"),o=n("UlJF"),s=n("+Css"),a=n("7LId"),c=n("VIvw"),l=n("iHvq"),u=n("cpVT"),d=n("MX0m"),h=n.n(d),f=n("q1tI"),p=n("FIf5"),g=n.n(p);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var b=function(e){Object(a.a)(n,e);var t=m(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(u.a)(Object(s.a)(e),"codeEl",void 0),Object(u.a)(Object(s.a)(e),"setRef",(function(t){return e.codeEl=t})),Object(u.a)(Object(s.a)(e),"highlightCode",(function(){e.codeEl&&g.a.highlightBlock(e.codeEl)})),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.highlightCode()}},{key:"componentDidUpdate",value:function(){this.highlightCode()}},{key:"render",value:function(){return Object(r.jsxs)("pre",{className:"jsx-2661271750",children:[Object(r.jsx)("code",{ref:this.setRef,className:"jsx-2661271750 "+"language-".concat(this.props.language),children:this.props.value}),Object(r.jsx)(h.a,{id:"2661271750",children:["code.jsx-2661271750 .hljs-keyword,.hljs-selector-tag,.hljs-built_in,.hljs-name,.hljs-tag{color:var(--color-primary-1);}","code.jsx-2661271750 .hljs-string,.hljs-title,.hljs-section,.hljs-attribute,.hljs-literal,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-addition{color:var(--color-red-2);}","code.jsx-2661271750 .hljs-comment,.hljs-quote,.hljs-variable{color:var(--color-green-2);}","code.jsx-2661271750 .hljs-attr{color:var(--color-red-1);}"]})]})}}]),n}(f.PureComponent);Object(u.a)(b,"defaultProps",{language:""})},mfmY:function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},nqdA:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(c||+o[1]<57)||a&&c,d=0;d<10;d++)r[48+d]=r[96+d]=String(d);for(d=1;d<=24;d++)r[d+111]="F"+d;for(d=65;d<=90;d++)r[d]=String.fromCharCode(d+32),i[d]=String.fromCharCode(d);for(var h in r)i.hasOwnProperty(h)||(i[h]=r[h]);function f(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(s||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?i:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},"o/6W":function(e,t,n){"use strict";n.r(t);var r=n("vJKn"),i=n.n(r),o=n("rg98"),s=n("nKUr"),a=n("cpVT"),c=n("xvhg"),l=n("MX0m"),u=n.n(l),d=n("q1tI"),h=n("RVZx"),f=n("3gM7"),p=n("tZOq"),g=n("20a2"),m=n("Mjqs"),b=n("xom/"),j=n("YFqc"),x=n.n(j),v=n("W27C"),y=n("T0nv"),w=n("Gbtx");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.repl,n=t.title,r=t.owner;return r?Object(s.jsxs)("div",{className:"jsx-2470659356 fork-card",children:[Object(s.jsx)(x.a,k(k({},Object(y.b)(t)),{},{children:Object(s.jsx)("a",{className:"jsx-2470659356 link-blanket"})})),Object(s.jsxs)("div",{className:"jsx-2470659356 content",children:[Object(s.jsx)("div",{className:"jsx-2470659356 repl-title",children:n}),Object(s.jsxs)(b.a,{wrap:"nowrap",align:"center",spacing:"2px",children:[Object(s.jsx)(x.a,k(k({},Object(v.c)(r)),{},{children:Object(s.jsx)("a",{onClick:function(e){return e.stopPropagation()},className:"jsx-2470659356",children:Object(s.jsx)(w.a,{size:"s",url:r.image})})})),Object(s.jsx)(x.a,k(k({},Object(v.c)(r)),{},{children:Object(s.jsx)("a",{onClick:function(e){return e.stopPropagation()},className:"jsx-2470659356 username",children:r.username})}))]})]}),Object(s.jsx)(u.a,{id:"2470659356",children:[".fork-card.jsx-2470659356{position:relative;padding:var(--spacing-1);border-radius:var(--border-radius-2);border:1px solid var(--color-border);background-color:var(--color-background-1);pointer-events:none;}",".content.jsx-2470659356{position:relative;}",".fork-card.jsx-2470659356 a.jsx-2470659356{pointer-events:all;}",".link-blanket.jsx-2470659356{position:absolute;top:0;left:0;width:100%;height:100%;}",".repl-title.jsx-2470659356{color:var(--color-primary-1);font-size:var(--font-size-desktop-text-medium);font-weight:bold;padding-bottom:var(--spacing-half);}",".repl-title.jsx-2470659356,.username.jsx-2470659356{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".repl-title.jsx-2470659356{font-weight:var(--font-weight-medium);}","a.jsx-2470659356:hover{-webkit-text-decoration:none;text-decoration:none;}",".username.jsx-2470659356{font-size:var(--font-size-desktop-text-small);color:var(--color-foreground-2);}","a.username.jsx-2470659356:hover{color:var(--color-foreground-1);}"]})]}):null}var C=n("ceSv"),_=n("SXYe"),E=n("OYKG"),P=n("0LUh"),N=n("EKQb");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=e.user;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x.a,I(I({},Object(v.c)(t)),{},{children:Object(s.jsx)("a",{className:"jsx-999150579 username",children:t.username})})),Object(s.jsx)(u.a,{id:"999150579",children:["a.jsx-999150579{color:var(--color-primary-1);font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);padding:1px 2px;-webkit-text-decoration:none !important;text-decoration:none !important;}"]})]})}var T=function(e){var t=e.children;return Object(s.jsxs)("div",{className:"jsx-580368413",children:[t,Object(s.jsx)(u.a,{id:"580368413",children:["div.jsx-580368413{color:var(--color-foreground-3);font-size:var(--font-size-desktop-text-medium);}"]})]})};function M(e){var t=e.repl;return t.owner?1===t.permissions.length&&t.permissions[0].user?Object(s.jsxs)(T,{children:[Object(s.jsx)(D,{user:t.owner})," + ",Object(s.jsx)(D,{user:t.permissions[0].user})]}):2===t.permissions.length&&t.permissions[0].user&&t.permissions[1].user?Object(s.jsxs)(T,{children:[Object(s.jsx)(D,{user:t.owner}),",",Object(s.jsx)(D,{user:t.permissions[0].user}),", +",Object(s.jsx)(D,{user:t.permissions[1].user})]}):t.permissions.length>2&&t.permissions[0].user&&t.permissions[1].user?Object(s.jsxs)(T,{children:[Object(s.jsx)(D,{user:t.owner}),",",Object(s.jsx)(D,{user:t.permissions[0].user}),"+ ",t.permissions.length-1," others"]}):Object(s.jsx)(D,{user:t.owner}):null}function A(e){var t,n=e.repl,r=e.isLoggedIn,i=!n.flagJanus&&n.flagExplore&&n.currentUserPermissions.publish;return Object(s.jsxs)("header",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]]),children:[Object(s.jsxs)(b.a,{wrap:"nowrap",align:"center",spacing:1,children:[Object(s.jsx)("h1",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]])+" heading",children:n.title}),i&&Object(s.jsx)("div",{"aria-label":n.lastPublishedAt?"Published":"Unpublished","data-microtip-position":"bottom",role:"tooltip",className:u.a.dynamic([["2450362886",[_.a.mobileMax]]])+" published-indicator",children:n.lastPublishedAt?Object(s.jsx)(P.a,{style:{width:"var(--spacing-3)",height:"var(--spacing-3)"}}):Object(s.jsx)(N.a,{style:{width:"var(--spacing-3)",height:"var(--spacing-3)"}})})]}),Object(s.jsxs)(b.a,{wrap:"nowrap",align:"center",justify:"space-between",children:[Object(s.jsxs)(b.a,{spacing:"4px",align:"center",children:[n.owner?Object(s.jsx)(x.a,I(I({},Object(v.c)(n.owner)),{},{children:Object(s.jsx)("a",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]]),children:Object(s.jsx)(w.a,{style:{height:"32px",width:"32px"},url:null===(t=n.owner)||void 0===t?void 0:t.image})})})):null,n.permissions.length>0?n.permissions.slice(0,2).map((function(e){var t=e.id,n=e.user;return n?Object(s.jsx)(x.a,I(I({},Object(v.c)(n)),{},{children:Object(s.jsx)("a",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]]),children:Object(s.jsx)(w.a,{style:{height:"32px",width:"32px"},url:n.image},t)})}),n.id):null})):null,n.owner?Object(s.jsxs)("div",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]])+" contributor-links-wrapper",children:[Object(s.jsx)("div",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]])+" desktop",children:Object(s.jsx)(M,{repl:n})}),Object(s.jsx)("div",{className:u.a.dynamic([["2450362886",[_.a.mobileMax]]])+" mobile",children:Object(s.jsx)(T,{children:n.permissions.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(D,{user:n.owner})," +"," ",n.permissions.length," ",n.permissions.length>1?"others":"other"]}):Object(s.jsx)(D,{user:n.owner})})})]}):null]}),n.currentUserPermissions.containerWrite?null:Object(s.jsx)(C.a,{isLoggedIn:r,replId:n.id,color:"primary",filled:!0,trackingContext:"replViewHeader",onFork:function(){window.__SOCIAL_VIEW_FORK=!0}}),i?Object(s.jsxs)(b.a,{align:"center",justify:"end",spacing:"4px",wrap:"nowrap",children:[Object(s.jsxs)(E.b,{Icon:n.lastPublishedAt?P.a:void 0,replId:n.id,color:n.lastPublishedAt?void 0:"primary",children:["Publish ",n.lastPublishedAt?" update":"to Explore"]}),n.lastPublishedAt?Object(s.jsx)(E.a,{replId:n.id}):null]}):null]}),Object(s.jsx)(u.a,{id:"2450362886",dynamic:[_.a.mobileMax],children:[".heading.__jsx-style-dynamic-selector{max-width:75%;word-wrap:break-word;font-size:var(--font-size-desktop-heading-1);font-weight:var(--font-weight-bold);padding-bottom:var(--spacing-half);}",".contributor-links-wrapper.__jsx-style-dynamic-selector{color:var(--color-foreground-3);}",".contributor-links-wrapper.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{color:var(--color-primary-1);}",".contributor-links-wrapper.__jsx-style-dynamic-selector .desktop.__jsx-style-dynamic-selector{display:none;}",".contributor-links-wrapper.__jsx-style-dynamic-selector .mobile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".published-indicator.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--spacing-1);color:var(--color-foreground-3);}","@media screen and (min-width:".concat(_.a.mobileMax,"px){.detail-menu.__jsx-style-dynamic-selector{display:none;}.contributor-links-wrapper.__jsx-style-dynamic-selector .desktop.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.contributor-links-wrapper.__jsx-style-dynamic-selector .mobile.__jsx-style-dynamic-selector{display:none;}}")]})]})}var L=n("z7pX"),U=n("IdsG"),F=n("up5I");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=e.replId,n=Object(p.ye)({variables:{replId:t,count:100}}),r=n.data,i=n.fetchMore,o=n.loading,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null,c=a?a.publicForks:null,l=a?a.publicForkCount:null;return Object(s.jsxs)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]])+" repl-forks",children:[Object(s.jsx)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]])+" heading",children:Object(s.jsxs)(b.a,{spacing:"4px",children:[null!==l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{fontWeight:"medium",size:"medium",children:l}),Object(s.jsx)(U.a,{foreground:2,size:"medium",children:1!==l?"forks":"fork"})]}):null,o?Object(s.jsx)(U.a,{foreground:3,fontWeight:"medium",size:"medium",children:"Loading forks..."}):null]})}),Object(s.jsxs)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]]),children:[Object(s.jsx)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]])+" forks-list",children:c?c.items.map((function(e){return Object(s.jsx)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]])+" fork-card",children:Object(s.jsx)(S,{repl:e})},e.id)})):null}),Object(s.jsx)("div",{className:u.a.dynamic([["566255382",[_.a.mobileMax]]]),children:null!==c&&void 0!==c&&c.pageInfo.nextCursor?Object(s.jsx)(F.a,{disabled:o,border:!1,color:"primary",filled:!1,fullWidth:!0,onClick:function(){o||i({variables:{after:c.pageInfo.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var n="Repl"===e.repl.__typename?e.repl:null;if(!n)return e;var r=t.fetchMoreResult,i="Repl"===r.repl.__typename?r.repl:null;return i?V(V({},r),{},{repl:V(V({},i),{},{publicForks:V(V({},i.publicForks),{},{items:[].concat(Object(L.a)(n.publicForks.items),Object(L.a)(i.publicForks.items))})})}):e}})},children:o?"Loading...":"Load more"}):null})]}),Object(s.jsx)(u.a,{id:"566255382",dynamic:[_.a.mobileMax],children:[".repl-forks.__jsx-style-dynamic-selector{padding:var(--spacing-2);overflow-y:auto;height:500px;}",".heading.__jsx-style-dynamic-selector{padding:var(--spacing-1) 0;}",".forks-list.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:var(--spacing-2);padding-bottom:var(--spacing-2);}","@media screen and (min-width:".concat(_.a.mobileMax,"px){.forks-list.__jsx-style-dynamic-selector{grid-template-columns:repeat(2,minmax(0,1fr));}}")]})]})}var W=n("TSYQ"),q=n.n(W),K=n("YGlK"),J=n("Gaen");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=Object.values(p.I),X=Q.length,Y={heart:"\u2764\ufe0f",rocket:"\ud83d\ude80 ",eyes:"\ud83d\udc40 ",fire:"\ud83d\udd25",open_mouth:"\ud83d\ude2e"};function Z(e){var t=e.count,n=e.selected,r=e.type,i=e.onClick,o=e.disabled;return Object(s.jsxs)("button",{disabled:o,onClick:i,className:"jsx-2820671949 "+(q()({selected:n,enabled:!o})||""),children:[Object(s.jsx)("span",{className:"jsx-2820671949 icon",children:Y[r]}),Object(s.jsx)("span",{className:"jsx-2820671949 count",children:t}),Object(s.jsx)(u.a,{id:"2820671949",children:["button.jsx-2820671949{background-color:transparent;padding:2px var(--spacing-1);height:30px;border:1px solid var(--color-control-1);border-radius:30px;color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:var(--font-size-desktop-text-small);-webkit-transition:background-color 200ms;transition:background-color 200ms;}","button.enabled.jsx-2820671949{cursor:pointer;}","button.enabled.jsx-2820671949:hover{background-color:var(--color-background-3);}","button.enabled.selected.jsx-2820671949:hover,button.enabled.selected.jsx-2820671949{color:var(--color-primary-1);border-color:var(--color-primary-1);background-color:var(--color-primary-transparent-3);}",".icon.jsx-2820671949{margin-right:var(--spacing-1);}",".count.jsx-2820671949{font-family:var(--font-family-sans-serif);font-weight:var(--font-weight-bold);}","button.enabled.jsx-2820671949:focus{outline:0 none;border-color:var(--color-primary-transparent-1);}"]})]})}function $(e){var t=e.options,n=e.onAdd,r=d.useState(!1),i=Object(c.a)(r,2),o=i[0],a=i[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(K.a,{isOpen:o,positions:["bottom"],align:"center",onClickOutside:function(){return a(!1)},children:[Object(s.jsx)("button",{onClick:function(){return a(!o)},className:"jsx-2435484554 add-control",children:Object(s.jsx)(J.a,{})}),Object(s.jsx)("div",{className:"jsx-2435484554 options",children:Object(s.jsx)(b.a,{children:t.map((function(e){return Object(s.jsx)("button",{onClick:function(){n(e),a(!1)},className:"jsx-2435484554 icon-button",children:Object(s.jsx)("span",{className:"jsx-2435484554",children:Y[e]})},e)}))})})]}),Object(s.jsx)(u.a,{id:"2435484554",children:["button.jsx-2435484554{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:transparent;-webkit-transition:background-color 200ms;transition:background-color 200ms;}",".add-control.jsx-2435484554{height:30px;width:30px;border-radius:50%;color:var(--color-foreground-2);border:1px solid var(--color-control-1);}",".options.jsx-2435484554{padding:2px;}",".icon-button.jsx-2435484554{padding:var(--spacing-half) var(--spacing-1);border:0 none;border-radius:var(--border-radius-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:var(--font-size-desktop-text-small);cursor:pointer;text-align:center;}",".icon-button.jsx-2435484554 span.jsx-2435484554{padding-right:var(--spacing-half);}","button.jsx-2435484554:hover,button.jsx-2435484554:active{outline:0 none;background-color:var(--color-control-1);}","button.jsx-2435484554:focus{outline:0 none;border-color:var(--color-control-2);}"]})]})}function ee(e,t){return"heart"===e.type?-1:"heart"===t.type||e.type>t.type?1:-1}function te(e){var t=e.repl,n=e.currentUser,r=Object(p.Ce)(),i=Object(c.a)(r,2),o=i[0],a=i[1].loading,l=t.reactions.reduce((function(e,t){return e+t.count}),0),u=Boolean(null===n||void 0===n?void 0:n.isVerified)&&t.reactions.length<X,d=t.reactions.length?t.reactions:[{id:"heart",type:p.I.Heart,count:0,currentUserReacted:!1}],h=Q.filter((function(e){return!t.reactions.find((function(t){return t.type===e}))}));return Object(s.jsxs)(b.b,{spacing:1,children:[Object(s.jsx)("div",{children:0===l?Object(s.jsx)(U.a,{foreground:2,children:"No reactions yet"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{foreground:1,fontWeight:"medium",size:"medium",children:l})," ",Object(s.jsxs)(U.a,{foreground:2,children:["Reaction",1===l?"":"s"]})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)(b.a,{align:"center",spacing:1,children:[d.map((function(e){return Object(s.jsx)(Z,{disabled:!n||!n.isVerified,count:e.count,selected:e.currentUserReacted,type:e.type,onClick:function(){if(!a){var n={setReplReaction:H(H({},t),{},{reactions:t.reactions.reduce((function(t,n){var r=H({},n);return r.type===e.type&&(r.currentUserReacted=!e.currentUserReacted,r.count+=e.currentUserReacted?-1:1),r.count&&t.push(r),t}),[]).sort(ee)})};o({variables:{input:{replId:t.id,reactionType:e.type,react:!e.currentUserReacted}},optimisticResponse:n})}}},e.type)})),u?Object(s.jsx)($,{options:h,onAdd:function(e){if(!a){var n={setReplReaction:H(H({},t),{},{reactions:t.reactions.reduce((function(t,n){var r=H({},n);return r.type===e&&(r.count+=1,r.currentUserReacted=!0),t.push(r),t}),[]).sort(ee)})};o({variables:{input:{replId:t.id,reactionType:e,react:!0}},optimisticResponse:n})}}}):null]})})]})}var ne=n("oOwn"),re=n.n(ne),ie=n("Altv"),oe=n("M85P"),se=n("DqZZ");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=e.initialValue,n=e.onSubmit,r=e.onCancel,a=e.isLoading,l=e.autoFocus,h=e.ctaText,f=e.placeholder,p=e.userSearch,g=d.useState(t||""),m=Object(c.a)(g,2),j=m[0],x=m[1],v=d.useState(!1),y=Object(c.a)(v,2),O=y[0],k=y[1],S=d.useRef(null),C=Object(se.a)().ref,_=!j||a;d.useEffect((function(){if(l&&t&&S.current){var e=t.length;S.current.setSelectionRange(e,e)}}),[t,l]);var E=Object(ie.a)({"@":function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({query:t||"",limit:5});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{icon:Object(s.jsx)(w.a,{url:e.image}),value:e.username}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),P=Object(c.a)(E,2),N=P[0].suggestions,R=P[1],I=d.useMemo((function(){var e=S.current;if(N&&e)return re()(e,N.textTrigger.index)}),[N]),D=Object(oe.c)({items:(null===N||void 0===N?void 0:N.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(N),onSelectedItemChange:function(e){var t=e.selectedItem;if(N&&t){var n=N.applySuggestion({targetValue:j,suggestionValue:t.value}),r=n.fullValue,i=n.cursorIndex;x(r),setTimeout((function(){S.current&&S.current.setSelectionRange(i,i)}))}}}),T=D.highlightedIndex,M=D.getInputProps,A=D.getMenuProps,L=D.getItemProps,U=D.isOpen;return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(j),x("")},className:"jsx-".concat(ue.__hash)+" jsx-2034923493 "+u.a.dynamic([["3642784194",[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0]]]),children:[Object(s.jsxs)(b.b,{spacing:1,align:"stretch",justify:"end",children:[Object(s.jsxs)("div",{className:"jsx-".concat(ue.__hash)+" jsx-2034923493 "+u.a.dynamic([["3642784194",[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0]]])+" textarea-container",children:[Object(s.jsx)("textarea",ce(ce({},M({autoFocus:l,placeholder:f,ref:function(e){R(e),C(e),S.current=e},onFocus:function(){return k(!0)},onBlur:function(){k(!1),j||r()},onChange:function(e){return x(e.currentTarget.value)},value:j,onKeyDown:function(e){U||(e.nativeEvent.preventDownshiftDefault=!0),"Enter"===e.key&&e.metaKey&&(n(j),e.currentTarget.blur(),x(""))}})),{},{className:"jsx-".concat(ue.__hash)+" jsx-2034923493 "+u.a.dynamic([["3642784194",[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0]]])})),null!==N&&void 0!==N&&N.results&&N.results.length?Object(s.jsx)("ul",ce(ce({},A()),{},{className:"jsx-".concat(ue.__hash)+" jsx-2034923493 "+u.a.dynamic([["3642784194",[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0]]]),children:N.results.map((function(e,t){return Object(s.jsx)("li",ce(ce({},L({item:e,index:t,key:e.value})),{},{className:"jsx-".concat(ue.__hash)+" jsx-2034923493 "+u.a.dynamic([["3642784194",[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0]]])+" "+((T===t?"highlighted":void 0)||""),children:e.value}))}))})):null]}),O||j?Object(s.jsxs)(b.a,{justify:"end",spacing:"4px",children:[Object(s.jsx)(F.a,{filled:!1,border:!1,onClick:function(){x(""),r()},children:"Cancel"}),Object(s.jsx)(F.a,{filled:!0,disabled:_,color:"primary",type:"submit",children:h||"Comment"})]}):null]}),Object(s.jsx)(u.a,{id:ue.__hash,children:ue}),Object(s.jsx)(u.a,{id:"2034923493",children:[".textarea-container.jsx-2034923493{font-size:var(--font-size-desktop-text-small);position:relative;}","ul.jsx-2034923493{position:absolute;margin:0;padding:var(--spacing-half) 0;background-color:var(--dropdown-background-color);border:1px solid var(--dropdown-border-color);list-style:none;border-radius:var(--border-radius-1);overflow:hidden;}","ul.jsx-2034923493:focus{box-shadow:0 0 2.5px var(--dropdown-border-color) inset;}","li.jsx-2034923493{padding:var(--spacing-half);}",".highlighted.jsx-2034923493{background-color:var(--color-primary-1);color:var(--color-white);}"]}),Object(s.jsx)(u.a,{id:"3642784194",dynamic:[I?"visibile":"hidden",I?I.top+I.height:0,I?I.left:0],children:["ul.__jsx-style-dynamic-selector{visibility:".concat(I?"visibile":"hidden",";top:").concat(I?I.top+I.height:0,"px;left:calc( ").concat(I?I.left:0,"px - var(--spacing-half) );}")]})]})}var ue=["textarea.jsx-538941221{font-size:var(--font-size-desktop-text-small);font-family:var(--font-family-sans-serif);background-color:var(--color-background-3);padding:12px;display:block;min-height:60px;max-height:240px;overflow-y:scroll;width:100%;border-radius:var(--border-radius-2);border:1px solid var(--color-border);line-height:1.2em;resize:vertical;-webkit-transition:0.1s box-shadow,0.2s background-color,0.2s border-color;transition:0.1s box-shadow,0.2s background-color,0.2s border-color;}",".jsx-538941221::-webkit-input-placeholder{color:var(--color-foreground-2);}",".jsx-538941221::-moz-placeholder{color:var(--color-foreground-2);}",".jsx-538941221:-ms-input-placeholder{color:var(--color-foreground-2);}",".jsx-538941221::placeholder{color:var(--color-foreground-2);}","textarea.jsx-538941221:hover{border-color:var(--color-primary-transparent-1);}","textarea.jsx-538941221:focus,textarea.jsx-538941221:active{outline:none;border-color:var(--color-primary-transparent-1);}","textarea.jsx-538941221:focus{background-color:var(--color-background-1);color:var(--color-foreground-1);border-radius:var(--border-radius-1);box-shadow:0px 8px 12px rgba(0,0,0,0.075);}"];ue.__hash="538941221";var de=n("VoYB");function he(e){var t=Object(de.a)().showError,n=Object(p.ve)({onCompleted:function(n){"UserError"===n.createReplComment.__typename?t(n.createReplComment.message):"ReplComment"===n.createReplComment.__typename&&e.onCreate(n.createReplComment)},onError:function(e){return t(e.message)}}),r=Object(c.a)(n,2),i=r[0],o=r[1];return Object(s.jsx)(le,{userSearch:e.userSearch,placeholder:e.placeholder,autoFocus:e.autoFocus,initialValue:e.initialValue,isLoading:o.loading,onCancel:e.onCancel,onSubmit:function(t){o.loading||i({variables:{input:{replId:e.replId,body:t}}})}})}function fe(e){var t=Object(de.a)().showError,n=Object(p.we)({onCompleted:function(n){"UserError"===n.createReplCommentReply.__typename?t(n.createReplCommentReply.message):"ReplComment"===n.createReplCommentReply.__typename&&e.onCreate(n.createReplCommentReply)},onError:function(e){return t(e.message)}}),r=Object(c.a)(n,2),i=r[0],o=r[1];return Object(s.jsx)(le,{userSearch:e.userSearch,placeholder:e.placeholder,autoFocus:e.autoFocus,initialValue:e.initialValue,isLoading:o.loading,onCancel:e.onCancel,onSubmit:function(t){o.loading||i({variables:{input:{replCommentId:e.replCommentId,body:t}}})}})}var pe=n("lHiQ"),ge=n("QPY3"),me=n("8Vt8"),be=n("6wo1"),je=n("+Jnw"),xe=n("2lQ7"),ve=n.n(xe),ye=n("8bOe"),we=n("jmGw"),Oe=n("AERv"),ke=n("OXcl"),Se=n("nXXz"),Ce=n("VX74"),_e=n("tidx");function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){var t=e.totalCount;return e.areCommentsEnabled?t&&t>0?Object(s.jsxs)(b.a,{spacing:"4px",children:[Object(s.jsx)(U.a,{foreground:1,fontWeight:"medium",size:"medium",children:t}),Object(s.jsx)(U.a,{foreground:2,size:"medium",children:1===t?"comment":"comments"})]}):Object(s.jsx)(U.a,{foreground:2,size:"medium",children:"No comments yet"}):Object(s.jsx)(U.a,{foreground:2,size:"medium",children:"Adding comments has been turned off for this repl."})}function Re(e){var t,n,r=e.comment,i=e.onDelete,o=e.userSearch,a=e.onRepliesToggle,l=e.repliesExpanded,h=e.replyCount,f=e.replId,g=e.replyToId,m=e.onReply,j=e.linkedToCommentId,y=e.currentUser,O=e.parentAuthor,k=e.areCommentsEnabled,S=d.useState(!1),C=Object(c.a)(S,2),_=C[0],E=C[1],P=d.useState(!1),N=Object(c.a)(P,2),R=N[0],I=N[1],D=d.useState(null),T=Object(c.a)(D,2),M=T[0],A=T[1],L=d.useState(!1),z=Object(c.a)(L,2),V=z[0],B=z[1],W=r.user,K=r.timeCreated,J=Object(de.a)(),G=J.showConfirm,H=J.showError,Q=d.useRef(null),X=d.useRef(j),Y=[];null!==(t=r.currentUserPermissions)&&void 0!==t&&t.edit&&Y.push({label:"Edit"}),null!==(n=r.currentUserPermissions)&&void 0!==n&&n.delete&&Y.push({label:"Delete",isDestructive:!0}),d.useEffect((function(){if(X.current===r.id){var e=!1;return setTimeout((function(){if(!e&&Q.current){I(!0);var t=Q.current.getBoundingClientRect().top+window.scrollY-120;window.scroll({top:t,behavior:"smooth"})}})),function(){e=!0}}}),[r,I]);var Z=Object(p.ue)({onCompleted:function(e){"UserError"===e.updateReplComment.__typename?H(e.updateReplComment.message):"ReplComment"===e.updateReplComment.__typename&&G("Comment updated")},onError:function(e){return H(e.message)}}),$=Object(c.a)(Z,2),ee=$[0],te=$[1];return V?Object(s.jsx)(le,{userSearch:o,placeholder:"Edit comment...",initialValue:r.body,onCancel:function(){return B(!1)},onSubmit:function(e){ee({variables:{input:{id:r.id,body:e}},optimisticResponse:{updateReplComment:Pe(Pe({__typename:"ReplComment"},r),{},{body:e})}}),B(!1)},autoFocus:!0,isLoading:te.loading}):Object(s.jsxs)("div",{ref:Q,className:"jsx-2586501345 "+(q()("comment-item",{"is-action-menu-open":_})||""),children:[R?Object(s.jsx)("div",{className:"jsx-2586501345 highlight"}):null,Object(s.jsxs)(b.a,{wrap:"nowrap",justify:"space-between",spacing:1,children:[W?Object(s.jsx)(x.a,Pe(Pe({},Object(v.c)(W)),{},{children:Object(s.jsx)("a",{className:"jsx-2586501345",children:Object(s.jsx)(w.a,{url:W.image,style:{width:"32px",height:"32px"}})})})):null,Object(s.jsxs)("div",{className:"jsx-2586501345 content",children:[Object(s.jsxs)(b.b,{spacing:"4px",align:"stretch",children:[Object(s.jsxs)(b.a,{wrap:"nowrap",align:"center",spacing:"4px",children:[W?Object(s.jsx)(x.a,Pe(Pe({},Object(v.c)(W)),{},{children:Object(s.jsx)("a",{className:"jsx-2586501345",children:W.username})})):null,Object(s.jsx)(U.a,{foreground:3,size:"xsmall",children:(new Date).getTime()-new Date(K).getTime()<1e3?"just now":Object(ge.a)(K)})]}),Object(s.jsx)(je.a,{source:r.body,skipHtml:!0,unwrapDisallowed:!0,allowedTypes:["link","linkReference","text","code","inlineCode","strong","emphasis","paragraph","list"],renderers:{code:we.a,linkReference:ye.c,link:ye.d,list:ye.f},plugins:[Oe.markdownMentionPlugin,ve.a]})]}),V?null:Object(s.jsxs)("footer",{className:"jsx-2586501345",children:[null!==M&&y?Object(s.jsx)(fe,{userSearch:o,placeholder:M?"Reply to ".concat(M):"Reply",autoFocus:!0,replId:f,replCommentId:g,onCancel:function(){return A(null)},onCreate:function(){m(),A(null)},initialValue:M}):null,null===M?Object(s.jsx)("div",{className:"jsx-2586501345 footer-actions",children:Object(s.jsxs)(b.a,{spacing:"2px",children:[y&&k?Object(s.jsx)("div",{className:"jsx-2586501345",children:Object(s.jsx)(F.a,{size:"small",color:"primary",filled:!1,border:!1,onClick:function(){var e=r.user&&r.user.id!==y.id?[r.user.username]:[];null!==O&&void 0!==O&&O.username&&O.id!==y.id&&!e.includes(O.username)&&e.unshift(O.username),A(e.map((function(e){return"@".concat(e)})).join(" ")+" ")},children:"Reply"})}):null,h>0?Object(s.jsx)("div",{className:"jsx-2586501345 replies-toogle",children:Object(s.jsx)(F.a,{size:"small",border:!1,filled:!1,onClick:a,children:Object(s.jsxs)(b.a,{wrap:"nowrap",align:"center",spacing:"2px",children:[Object(s.jsxs)("div",{className:"jsx-2586501345",children:[l?"Hide":"View"," ",h," ",1===h?"reply":"replies"]}),Object(s.jsx)("div",{className:"jsx-2586501345 "+(q()("toggle-icon",{"replies-expanded":l})||""),children:Object(s.jsx)(Se.a,{size:"small"})})]})})}):null]})}):null]})]}),Y.length?Object(s.jsx)("div",{className:"jsx-2586501345 actions",children:Object(s.jsx)(ke.a,{onOpenChange:E,items:Y,onItemClick:function(e){switch(e.label){case"Edit":return void B(!0);case"Delete":i(r.id)}}})}):null]}),Object(s.jsx)(u.a,{id:"2586501345",children:[".comment-item.jsx-2586501345{position:relative;}",".highlight.jsx-2586501345{--padding:var(--spacing-2);opacity:0;position:absolute;background-color:var(--color-primary-transparent-3);z-index:0;top:calc(var(--padding) / 2 * -1);left:calc(var(--padding) / 2 * -1);width:calc(100% + var(--padding));height:calc(100% + var(--padding));border-radius:var(--border-radius-2);pointer-events:none;-webkit-animation:fadeInOut-jsx-2586501345 2s ease-in 500ms forwards;animation:fadeInOut-jsx-2586501345 2s ease-in 500ms forwards;}","@-webkit-keyframes fadeInOut-jsx-2586501345{0%{opacity:0;}5%{opacity:1;}85%{opacity:1;}100%{opacity:0;}}","@keyframes fadeInOut-jsx-2586501345{0%{opacity:0;}5%{opacity:1;}85%{opacity:1;}100%{opacity:0;}}","a.jsx-2586501345{font-size:var(--font-size-desktop-text-small);color:var(--color-foreground-1);font-weight:var(--font-weight-medium);-webkit-text-decoration:none !important;text-decoration:none !important;-webkit-transition:color 0.2s;transition:color 0.2s;}","a.jsx-2586501345:hover{color:var(--color-primary-1);}",".actions.jsx-2586501345{position:relative;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;opacity:0;}",".comment-item.jsx-2586501345:focus-within .actions.jsx-2586501345,.comment-item.jsx-2586501345:hover .actions.jsx-2586501345,.is-action-menu-open.jsx-2586501345 .actions.jsx-2586501345,.is-touch-device .actions.jsx-2586501345{opacity:1;}",".content.jsx-2586501345{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".comment-item.jsx-2586501345 .rendered-markdown{background:unset;font-size:var(--font-size-desktop-text-small);}",".comment-item.jsx-2586501345 .rendered-markdown pre{padding:var(--spacing-half) !important;}",".comment-item.jsx-2586501345 .rendered-markdown pre,.comment-item.jsx-2586501345 .rendered-markdown pre code{background-color:var(--color-background-1);}","footer.jsx-2586501345{position:relative;padding-top:var(--spacing-half);}",".replies-toogle.jsx-2586501345{opacity:0.7;}",".toggle-icon.jsx-2586501345{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);}",".toggle-icon.replies-expanded.jsx-2586501345{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}",".replies-toogle.jsx-2586501345:hover{opacity:1;}",".footer-actions.jsx-2586501345{position:relative;left:calc(var(--spacing-half) * -1);}"]})]})}function Ie(e){var t=e.comment,n=e.onDelete,r=e.userSearch,i=e.replies,o=e.replId,a=e.refetch,l=e.linkedToCommentId,h=e.currentUser,f=e.areCommentsEnabled,p=d.useState((function(){return!!l&&i.some((function(e){return e.id===l}))})),g=Object(c.a)(p,2),m=g[0],j=g[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{onReply:function(){a(),j(!0)},replId:o,replyCount:i.length,repliesExpanded:m,onRepliesToggle:function(){return j(!m)},userSearch:r,comment:t,replyToId:t.id,onDelete:n,linkedToCommentId:l,currentUser:h,parentAuthor:null,areCommentsEnabled:f}),m&&i.length>0?Object(s.jsx)("div",{className:"jsx-1327972039 replies",children:Object(s.jsx)(b.b,{spacing:2,align:"stretch",children:i.map((function(e){return Object(s.jsx)("div",{className:"jsx-1327972039",children:Object(s.jsx)(Re,{currentUser:h,linkedToCommentId:l,onReply:a,replId:o,userSearch:r,onDelete:n,comment:e,replyToId:t.id,replyCount:0,repliesExpanded:!1,onRepliesToggle:function(){return null},parentAuthor:t.user||null,areCommentsEnabled:f})},e.id)}))})}):null,Object(s.jsx)(u.a,{id:"1327972039",children:[".replies.jsx-1327972039{padding-left:var(--spacing-5);}"]})]})}function De(e){var t,n,r=e.replId,l=Object(g.useRouter)().query,h=d.useState(!1),f=Object(c.a)(h,2),m=f[0],j=f[1],x=Object(de.a)(),v=x.showConfirm,y=x.showError,w=Object(p.se)({variables:{replId:r,after:l.after?l.after.toString():void 0}}),O=w.data,k=w.loading,S=w.fetchMore,C=w.refetch,_=l.c?Number(l.c):void 0,E=d.useState(null),P=Object(c.a)(E,2),N=P[0],R=P[1],I=Object(p.re)({onCompleted:function(e){"UserError"===e.deleteReplComment.__typename?y(e.deleteReplComment.message):"ReplComment"===e.deleteReplComment.__typename&&(v("Comment deleted"),C(),R(null))},onError:function(e){return y(e.message)}}),D=Object(c.a)(I,1)[0],T=Object(p.te)({onError:function(e){return y(e.message)},onCompleted:function(e){var t=e.setReplCommentSettings;if("UserError"===t.__typename)y(t.message);else if("Repl"===t.__typename){var n;null!==(n=t.commentSettings)&&void 0!==n&&n.enabled?v("Comments enabled!"):v("Comments disabled!")}}}),M=Object(c.a)(T,1)[0],A="Repl"===(null===O||void 0===O?void 0:O.repl.__typename)?O.repl:null,F=null===O||void 0===O?void 0:O.currentUser,z=null===A||void 0===A||!A.commentSettings||A.commentSettings.enabled,V=d.useMemo((function(){var e;return(null===A||void 0===A||null===(e=A.comments)||void 0===e?void 0:e.items)||[]}),[null===A||void 0===A?void 0:A.comments.items]),B=null===A||void 0===A||null===(t=A.comments)||void 0===t?void 0:t.pageInfo,W=d.useMemo((function(){var e;if(!A)return[];var t="User"===(null===(e=A.owner)||void 0===e?void 0:e.__typename)?Object(a.a)({},A.owner.username,A.owner):{};return A.comments.items.forEach((function(e){e.user&&(t[e.user.username]=e.user),e.replies&&e.replies.forEach((function(e){null!==e&&void 0!==e&&e.user&&(t[e.user.username]=e.user)}))})),A.permissions.forEach((function(e){e.user&&(t[e.user.username]=e.user)})),F&&delete t[F.username],Object.values(t)}),[A,F]),q=Object(Ce.useApolloClient)(),K=d.useCallback(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.query.toLowerCase(),!((r=W.filter((function(e){var t;return!n||e.username.toLowerCase().includes(n)||(null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(n))}))).length<t.limit&&t.query)){e.next=7;break}return e.next=5,q.query({query:p.M,variables:t});case 5:e.sent.data.usernameSearch.forEach((function(e){r.some((function(t){return t.username===e.username}))||r.push(e)}));case 7:return e.abrupt("return",r.slice(0,t.limit));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[q,W]),J=d.useMemo((function(){return V?V.reduce((function(e,t){return e+(1+t.replies.length)}),0):null}),[V]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(b.b,{spacing:3,align:"stretch",children:[Object(s.jsxs)(b.b,{spacing:2,align:"stretch",children:[Object(s.jsxs)(b.a,{justify:"space-between",align:"center",children:[Object(s.jsx)(Ne,{totalCount:J,areCommentsEnabled:z}),(null===A||void 0===A||null===(n=A.currentUserPermissions)||void 0===n?void 0:n.changeCommentSettings)&&Object(s.jsxs)(b.a,{align:"center",spacing:2,children:[Object(s.jsx)(U.a,{children:"Allow comments"}),Object(s.jsx)(pe.a,{isOn:z,onChange:function(){return M({variables:{input:{replId:A.id,enabled:!z}},optimisticResponse:{setReplCommentSettings:Pe(Pe({},A),{},{commentSettings:{__typename:"ReplCommentSetting",id:-1,enabled:!z}})}})}})]})]}),F&&z?Object(s.jsx)(he,{onCreate:function(){return C()},placeholder:A?"Say something about ".concat(A.title):"",replId:r,onCancel:function(){return null},userSearch:K}):null,F||k?null:Object(s.jsxs)("div",{className:"jsx-3084175211 auth-cta",children:[Object(s.jsx)("button",{onClick:function(){return j(!0)},className:"jsx-3084175211",children:"Sign up"})," ","to comment",Object(s.jsx)(me.a,{isOpen:m,onRequestClose:function(){j(!1)},children:Object(s.jsx)(_e.a,{onSuccess:function(e){e&&window.location.reload()}})})]})]}),V.map((function(e){return Object(s.jsx)(Ie,{linkedToCommentId:_,refetch:C,replId:r,replies:e.replies,comment:e,onDelete:R,userSearch:K,currentUser:F||null,areCommentsEnabled:z},e.id)})),null!==B&&void 0!==B&&B.nextCursor&&A?Object(s.jsx)("div",{className:"jsx-3084175211 load-more",children:Object(s.jsx)("a",{href:A.url+"?after="+B.nextCursor,onClick:function(e){e.preventDefault(),k||S({variables:{after:B.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var n="Repl"===e.repl.__typename?e.repl:null;if(!n)return e;var r=t.fetchMoreResult,i="Repl"===r.repl.__typename?r.repl:null;return i?Pe(Pe({},r),{},{repl:Pe(Pe({},i),{},{comments:Pe(Pe({},i.comments),{},{items:[].concat(Object(L.a)(n.comments.items),Object(L.a)(i.comments.items))})})}):e}})},className:"jsx-3084175211",children:k?"Loading...":"Load more comments"})}):null]}),Object(s.jsx)(me.a,{isOpen:null!==N,onRequestClose:function(){return R(null)},children:Object(s.jsx)(be.a,{delete:function(){if(null===N)throw new Error("Expected pendingDeleteId");D({variables:{id:N}})},entityType:"Comment",hideModal:function(){return R(null)}})}),Object(s.jsx)(u.a,{id:"3084175211",children:[".auth-cta.jsx-3084175211{padding:var(--spacing-2);border-radius:var(--border-radius-2);background-color:var(--color-primary-transparent-3);}",".auth-cta.jsx-3084175211 button.jsx-3084175211{cursor:pointer;color:var(--color-primary-1);font-size:inherit;padding:1px 2px;border-radius:var(--border-radius-2);border:0 none;-webkit-transition:0.2s background-color;transition:0.2s background-color;-webkit-text-decoration:none !important;text-decoration:none !important;font-weight:var(--font-weight-medium);background-color:transparent;}",".auth-cta.jsx-3084175211 button.jsx-3084175211:hover{background-color:var(--color-control-3);}",".load-more.jsx-3084175211{padding-left:var(--spacing-5);}",".load-more.jsx-3084175211 a.jsx-3084175211{color:var(--color-primary-1);font-size:var(--font-size-desktop-text-small);padding:1px 2px;border-radius:var(--border-radius-2);-webkit-transition:0.2s background-color;transition:0.2s background-color;-webkit-text-decoration:none !important;text-decoration:none !important;font-weight:var(--font-weight-medium);}",".load-more.jsx-3084175211 a.jsx-3084175211:hover{background-color:var(--color-control-3);}"]})]})}var Te=n("6bXu"),Me=n("zgDP"),Ae=n("UKf+"),Le=n("5zsw"),Ue=n("TeFj"),Fe=n("4Njq"),ze=n("/3ys");function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=Math.random()<.05;function qe(e){var t=e.repl,n=e.forks,r=e.currentUser;d.useEffect((function(){r&&!t.currentUserPermissions.containerWrite&&Object(Me.track)(Me.events.REPL_GUEST_VIEW,{page:"replView"})}),[r,t.currentUserPermissions.containerWrite]),d.useEffect((function(){window["flag-excalidraw"]=null===t||void 0===t?void 0:t.hasExcalidrawGate}),[t]);var i=!t.flagJanus&&t.flagExplore&&t.currentUserPermissions.publish,o=d.useState(!1),a=Object(c.a)(o,2),l=a[0],h=a[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("section",{className:u.a.dynamic([["365607497",[Fe.a]]])+" top",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" header-wrap",children:Object(s.jsx)(A,{repl:t,isLoggedIn:Boolean(r)})}),Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" repl-viewer",children:Object(s.jsx)(m.a,{repl:t,currentUser:r})})]}),Object(s.jsxs)("section",{className:u.a.dynamic([["365607497",[Fe.a]]])+" details-comments-forks",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" details",children:Object(s.jsxs)(b.b,{spacing:1,children:[Object(s.jsx)(Je,{}),Object(s.jsx)(U.a,{size:"medium",fontWeight:"medium",children:"Details"}),Object(s.jsxs)(b.b,{spacing:1,children:[Object(s.jsxs)(b.a,{spacing:"4px",wrap:"nowrap",align:"center",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" details-icon-wrapper",children:Object(s.jsx)(Ae.a,{size:"medium"})}),Object(s.jsxs)(U.a,{foreground:2,size:"small",children:["Created on"," ",new Date(t.timeCreated).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),t.lastPublishedAt&&i?Object(s.jsxs)(b.a,{spacing:"4px",wrap:"nowrap",align:"center",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" details-icon-wrapper",children:Object(s.jsx)(P.a,{size:"medium"})}),Object(s.jsxs)(U.a,{foreground:2,size:"small",children:["Last published on"," ",new Date(t.lastPublishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}):null,t.origin&&t.origin.owner?Object(s.jsxs)(b.a,{align:"center",spacing:"2px",children:[Object(s.jsxs)(b.a,{spacing:"4px",wrap:"nowrap",align:"center",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" details-icon-wrapper",children:Object(s.jsx)(Ue.a,{size:"medium"})}),Object(s.jsx)(U.a,{foreground:2,size:"small",children:"Forked from"})]}),Object(s.jsxs)(b.a,{align:"center",children:[Object(s.jsx)(x.a,Be(Be({},Object(v.c)(t.origin.owner)),{},{children:Object(s.jsx)("a",{className:u.a.dynamic([["365607497",[Fe.a]]])+" username",children:t.origin.owner.username})})),Object(s.jsx)(U.a,{size:"xsmall",foreground:3,children:"/"}),Object(s.jsx)(x.a,Be(Be({},Object(y.b)(t.origin)),{},{children:Object(s.jsx)("a",{className:u.a.dynamic([["365607497",[Fe.a]]])+" repl",children:t.origin.title})}))]})]}):null]}),t.description?Object(s.jsx)(U.a,{size:"medium",children:t.description}):Object(s.jsx)(U.a,{size:"small",foreground:3,children:"This repl has no description"})]})}),Object(s.jsxs)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" comments",children:[t.flagReplReactions?Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" reactions",children:Object(s.jsx)(te,{repl:t,currentUser:r})}):null,Object(s.jsx)(De,{replId:t.id})]}),Object(s.jsxs)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" forks",children:[Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" forks-heading",children:Object(s.jsxs)(b.a,{spacing:1,justify:"space-between",align:"center",children:[Object(s.jsx)(U.a,{foreground:1,fontWeight:"medium",size:"medium",children:"Forks"}),n.length>5?Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" see-all-forks-wrap",children:Object(s.jsx)("button",{onClick:function(){h(!0)},className:u.a.dynamic([["365607497",[Fe.a]]])+" see-all-forks",children:"See all"})}):null]})}),n.length>0?Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" forks-list",children:n.slice(0,5).map((function(e){return Object(s.jsx)("div",{className:u.a.dynamic([["365607497",[Fe.a]]])+" fork-card",children:Object(s.jsx)(S,{repl:e})},e.id)}))}):Object(s.jsx)(U.a,{size:"small",foreground:3,children:"This repl hasn't been forked yet. Give it some love!"})]})]}),Object(s.jsx)(me.a,{isOpen:l,onRequestClose:function(){return h(!1)},children:Object(s.jsx)(B,{replId:t.id})}),Object(s.jsx)(u.a,{id:"365607497",dynamic:[Fe.a],children:["section.__jsx-style-dynamic-selector{max-width:1000px;margin:0 auto;padding:var(--spacing-2);}",".reactions.__jsx-style-dynamic-selector{margin-bottom:var(--spacing-2);}",".top.__jsx-style-dynamic-selector{padding-bottom:var(--spacing-half);}",".header-wrap.__jsx-style-dynamic-selector{padding:var(--spacing-1) 0;}",".repl-viewer.__jsx-style-dynamic-selector{height:70vh;min-height:400px;max-height:600px;display:grid;}",".forks-heading.__jsx-style-dynamic-selector{padding-bottom:var(--spacing-1);}",".forks-list.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}",".fork-card.__jsx-style-dynamic-selector{padding-bottom:var(--spacing-1);}",".see-all-forks-wrap.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","button.see-all-forks.__jsx-style-dynamic-selector{padding:0;border:0 none;outline:0;background-color:transparent;}","button.__jsx-style-dynamic-selector:focus{outline-offset:2px;box-shadow:0 0 0 3px var(--color-primary-transparent-1);}","a.__jsx-style-dynamic-selector,button.see-all-forks.__jsx-style-dynamic-selector{cursor:pointer;color:var(--color-primary-1);font-size:var(--font-size-desktop-text-small);padding:1px 2px;border-radius:var(--border-radius-2);-webkit-transition:0.2s background-color;transition:0.2s background-color;-webkit-text-decoration:none !important;text-decoration:none !important;font-weight:var(--font-weight-medium);}","a.repl.__jsx-style-dynamic-selector{word-break:break-all;}","a.__jsx-style-dynamic-selector:hover{background-color:var(--color-control-3);}",".details-icon-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:var(--color-foreground-3);}",".details.__jsx-style-dynamic-selector,.comments.__jsx-style-dynamic-selector,.forks.__jsx-style-dynamic-selector{padding-bottom:var(--spacing-2);}","@media screen and (min-width:".concat(Fe.a,"px){.details-comments-forks.__jsx-style-dynamic-selector{display:grid;grid-template-columns:1fr 220px;grid-template-rows:auto 1fr;grid-template-areas: 'comments details' 'comments forks';}.details.__jsx-style-dynamic-selector{grid-area:details;}.comments.__jsx-style-dynamic-selector{grid-area:comments;padding-right:var(--spacing-2);}.forks.__jsx-style-dynamic-selector{grid-area:forks;}.forks-list.__jsx-style-dynamic-selector{max-height:800px;overflow-y:auto;}}")]})]})}var Ke="cover-page-banner-open",Je=function(){var e=d.useState(!1),t=Object(c.a)(e,2),n=t[0],r=t[1];return d.useEffect((function(){var e=null===ze.a.get(Ke);r(e)}),[n]),n?Object(s.jsxs)("div",{className:"jsx-1485703979 wrapper",children:[Object(s.jsxs)("div",{className:"jsx-1485703979 banner",children:[Object(s.jsx)("div",{onClick:function(){ze.a.set(Ke,!1),r(!1)},className:"jsx-1485703979 close-icon",children:Object(s.jsx)(Le.a,{size:"medium"})}),Object(s.jsxs)(b.b,{spacing:2,children:[Object(s.jsx)(U.a,{size:"medium",fontWeight:"medium",children:"Welcome to the Spotlight \ud83d\udca1"}),Object(s.jsxs)(U.a,{size:"small",foreground:3,children:["This is a",Object(s.jsx)("a",{href:"https://blog.replit.com/spotlight",target:"_blank",onClick:function(){ze.a.set(Ke,!1)},className:"jsx-1485703979",children:"\xa0Spotlight page"}),". You can run someone's project, browse their code, and comment here even if they don't give you editing permissions."]})]})]}),Object(s.jsx)(u.a,{id:"1485703979",children:[".close-icon.jsx-1485703979{color:var(--color-foreground-3);cursor:pointer;float:right;}",".close-icon.jsx-1485703979:hover{color:var(--color-foreground-1);}",".wrapper.jsx-1485703979{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;max-width:1000px;margin-top:0;margin-bottom:var(--spacing-2);padding:0;}",".banner.jsx-1485703979{padding:var(--spacing-2);background-color:var(--color-background-1);border-radius:var(--border-radius-2);}","h1.jsx-1485703979{font-size:24px;color:var(--color-primary-1);font-weight:var(--font-weight-bold);}","p.jsx-1485703979{font-family:var(--font-family-sans-serif);color:var(--color-foreground-2);font-size:var(--font-size-desktop-text-medium);width:100%;max-width:750px;}","a.jsx-1485703979{color:var(--color-primary-1);font-weight:var(--font-weight-medium);font-size:var(--font-size-desktop-text-small);}"]})]}):null};function Ge(){return Object(s.jsx)("div",{})}function He(){d.useEffect(Te.b,[]);var e=Object(g.useRouter)(),t=Object(p.Be)({variables:{url:e.query.replUrl.toString(),recentForksCount:6}}),n=t.data,r=t.loading,i="Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl:null,o=(null===n||void 0===n?void 0:n.currentUser)||void 0,a=null;if(r)a=Object(s.jsx)(Ge,{});else if(i){var c=i.recentForks.filter((function(e){return!!e.owner}));a=Object(s.jsx)(qe,{repl:i,forks:c,currentUser:o})}return Object(s.jsxs)(h.a,Be(Be({},function(){var e;if(!i)return{title:"Loading..."};var t=i.description||"A ".concat(i.lang.displayName," repl").concat(i.owner?" by "+i.owner.username:"");return{title:i.title,image:i.imageUrl||(null===(e=i.owner)||void 0===e?void 0:e.image),description:t,oembedUrl:"https://replit.com"+i.url}}()),{},{children:[We&&Object(s.jsx)("script",{dangerouslySetInnerHTML:{__html:"window['_fs_debug'] = false;\n                        window['_fs_host'] = 'fullstory.com';\n                        window['_fs_script'] = 'edge.fullstory.com/s/fs.js';\n                        window['_fs_org'] = '10JC1E';\n                        window['_fs_namespace'] = 'FS';\n                        (function(m,n,e,t,l,o,g,y){\n                            if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');} return;}\n                            g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];\n                            o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;\n                            y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n                            g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};\n                            g.anonymize=function(){g.identify(!!0)};\n                            g.shutdown=function(){g(\"rec\",!1)};g.restart=function(){g(\"rec\",!0)};\n                            g.log = function(a,b){g(\"log\",[a,b])};\n                            g.consent=function(a){g(\"consent\",!arguments.length||a)};\n                            g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};\n                            g.clearUserCookie=function(){};\n                            g.setVars=function(n, p){g('setVars',[n,p]);};\n                            g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];\n                            if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};\n                            g._v=\"1.3.0\";\n                        })(window,document,window['_fs_namespace'],'script','user');"},className:"jsx-1988144270"}),a,Object(s.jsx)(u.a,{id:"1988144270",children:[".replit-ui-theme-root{background-color:var(--color-background-2);color:var(--color-foreground-1);}"]})]}))}He.getInitialProps=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,r=t.store,e.next=3,Object(f.a)(n,r);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=He},oOwn:function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!==typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=o&&o.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var l=c.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;l.whiteSpace="pre-wrap",d||(l.wordWrap="break-word"),l.position="absolute",s||(l.visibility="hidden"),t.forEach((function(e){d&&"lineHeight"===e?l.lineHeight=u.height:l[e]=u[e]})),r?e.scrollHeight>parseInt(u.height)&&(l.overflowY="scroll"):l.overflow="hidden",c.textContent=e.value.substring(0,i),d&&(c.textContent=c.textContent.replace(/\s/g,"\xa0"));var h=document.createElement("span");h.textContent=e.value.substring(i)||".",c.appendChild(h);var f={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(c),f}"undefined"!=typeof e.exports?e.exports=i:n&&(window.getCaretCoordinates=i)}()},rknV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const r="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class s{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,o,s){let a=[],c=/^@(\w+)\b/.exec(e[0]),l=c&&"keyframes"==c[1];if(c&&null==t)return o.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,o);else if(s&&"object"==typeof s){if(!c)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,l)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||l)&&o.push((!n||c||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let o in e)i(r(o),e[o],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=o[r]||1;return o[r]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[i]||new c(e)).mount(Array.isArray(t)?t:[t])}}let a=null;class c{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(a)return e.adoptedStyleSheets=[a.sheet].concat(e.adoptedStyleSheets),e[i]=a;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),a=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[i]=this}mount(e){let t=this.sheet,n=0,r=0;for(let i=0;i<e.length;i++){let o=e[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(let e=0;e<o.rules.length;e++)t.insertRule(o.rules[e],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}},uZp5:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return h}));let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let k=1;k<r.length;k++)r[k]+=r[k-1];function i(e){for(let t=1;t<r.length;t+=2)if(r[t]>e)return r[t-1]<=e;return!1}function o(e){return e>=127462&&e<=127487}function s(e,t,n=!0){return(n?a:c)(e,t)}function a(e,t){if(t==e.length)return t;t&&l(e.charCodeAt(t))&&u(e.charCodeAt(t-1))&&t--;let n=d(e,t);for(t+=f(n);t<e.length;){let r=d(e,t);if(8205==n||8205==r||i(r))t+=f(r),n=r;else{if(!o(r))break;{let n=0,r=t-2;for(;r>=0&&o(d(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function c(e,t){for(;t>0;){let n=a(e,t-2);if(n<t)return n;t--}return 0}function l(e){return e>=56320&&e<57344}function u(e){return e>=55296&&e<56320}function d(e,t){let n=e.charCodeAt(t);if(!u(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return l(r)?r-56320+(n-55296<<10)+65536:n}function h(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function f(e){return e<65536?1:2}function p(e,t,n){for(let r=0;r<e.length;)9==e.charCodeAt(r)?(t+=n-t%n,r++):(t++,r=s(e,r));return t}function g(e,t,n,r){for(let i=0;i<e.length;){if(t>=n)return{offset:i,leftOver:0};t+=9==e.charCodeAt(i)?r-t%r:1,i=s(e,i)}return{offset:e.length,leftOver:n-t}}class m{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),j.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),j.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=new y(this),n=new y(e);for(;;){if(t.next(),n.next(),t.lineBreak!=n.lineBreak||t.done!=n.done||t.value!=n.value)return!1;if(t.done)return!0}}iter(e=1){return new y(this,e)}iterRange(e,t=this.length){return new w(this,e,t)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new b(e):j.from(b.split(e,[])):m.empty}}"undefined"!=typeof Symbol&&(m.prototype[Symbol.iterator]=function(){return this.iter()});class b extends m{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new O(r,s,n,o);r=s+1,n++}}decompose(e,t,n,r){let i=e<=0&&t>=this.length?this:new b(v(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=x(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new b(t,e.length+i.length));else{let e=t.length>>1;n.push(new b(t.slice(0,e)),new b(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof b))return super.replace(e,t,n);let r=x(this.text,x(n.text,v(this.text,0,e)),t),i=this.length+n.length-(t-e);return r.length<=32?new b(r,i):j.from(b.split(r,[]),i)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,o=0;i<=t&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}static split(e,t){let n=[],r=-1;for(let i of e)n.push(i),r+=i.length+1,32==n.length&&(t.push(new b(n,r)),n=[],r=-1);return r>-1&&t.push(new b(n,r)),t}}class j extends m{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let i=0,o=0;o<=t&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e<=a&&t>=o){let i=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!i?n.push(s):s.decompose(e-o,t-o,n,i)}o=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(e>=i&&t<=s){let a=o.replace(e-i,t-i,n),c=this.lines-o.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let i=this.children.slice();return i[r]=a,new j(i,this.length-(t-e)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,o=0;i<this.children.length&&o<=t;i++){let s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let h of e)n+=h.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new b(n,t)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,c=-1,l=[];function u(e){let t;if(e.lines>i&&e instanceof j)for(let n of e.children)u(n);else e.lines>o&&(a>o||!a)?(d(),s.push(e)):e instanceof b&&a&&(t=l[l.length-1])instanceof b&&e.lines+t.lines<=32?(a+=e.lines,c+=e.length+1,l[l.length-1]=new b(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&d(),a+=e.lines,c+=e.length+1,l.push(e))}function d(){0!=a&&(s.push(1==l.length?l[0]:j.from(l,c)),c=-1,a=l.length=0)}for(let h of e)u(h);return d(),1==s.length?s[0]:new j(s,t)}}function x(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],c=i+a.length;c>=n&&(c>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=c+1}return t}function v(e,t,n){return x(e,[""],t,n)}m.empty=new b([""],0);class y{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?0:e instanceof b?e.text.length:e.children.length]}next(e=0){for(;;){let t=this.nodes.length-1;if(t<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let n=this.nodes[t],r=this.offsets[t],i=n instanceof b?n.text.length:n.children.length;if(r==(this.dir>0?i:0))this.nodes.pop(),this.offsets.pop();else if(this.lineBreak||r==(this.dir>0?0:i))if(n instanceof b){let i=n.text[r-(this.dir<0?1:0)];if(this.offsets[t]=r+=this.dir,this.lineBreak=!1,i.length>Math.max(0,e))return this.value=0==e?i:this.dir>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=n.children[this.dir>0?r:r-1];this.offsets[t]=r+this.dir,this.lineBreak=!1,e>i.length?e-=i.length:(this.nodes.push(i),this.offsets.push(this.dir>0?0:i instanceof b?i.text.length:i.children.length))}else{if(this.lineBreak=!0,0==e)return this.value="\n",this;e--}}}}class w{constructor(e,t,n){this.value="",this.cursor=new y(e,t>n?-1:1),t>n?(this.skip=e.length-t,this.limit=t-n):(this.skip=t,this.limit=n-t)}next(e=0){if(this.limit<=0)this.limit=-1;else{let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip+e);this.skip=0,this.value=t;let i=n?1:t.length;i>this.limit&&(this.value=this.cursor.dir>0?t.slice(0,this.limit):t.slice(i-this.limit)),r||0==this.value.length?this.limit=-1:this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class O{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}},ubVE:function(e,t,n){"use strict";n.r(t),n.d(t,"HighlightStyle",(function(){return y})),n.d(t,"Tag",(function(){return u})),n.d(t,"classHighlightStyle",(function(){return W})),n.d(t,"defaultHighlightStyle",(function(){return B})),n.d(t,"highlightTree",(function(){return w})),n.d(t,"styleTags",(function(){return p})),n.d(t,"tags",(function(){return V}));var r=n("WQMp"),i=n("rknV"),o=n("AtEE"),s=n("4eob"),a=n("yqQ+"),c=n("wG49");let l=0;class u{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=l++}static define(e){if(null===e||void 0===e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new u([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new h;return t=>t.modified.indexOf(e)>-1?t:h.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let d=0;class h{constructor(){this.instances=[],this.id=d++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,i=n.modified,r.length==i.length&&r.every(((e,t)=>e==i[t])));var r,i}));if(n)return n;let r=[],i=new u(r,e,t);for(let s of t)s.instances.push(i);let o=f(t);for(let s of e.set)for(let e of o)r.push(h.get(s,e));return i}}function f(e){let t=[e];for(let n=0;n<e.length;n++)for(let r of f(e.slice(0,n).concat(e.slice(n+1))))t.push(r);return t}function p(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],i=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?null:'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let c=new v(r,i,s>0?n.slice(0,s):null);t[a]=c.sort(t[a])}}return g.add(t)}const g=new r.b,m=s.Facet.define({combine:e=>e.length?y.combinedMatch(e):null}),b=s.Facet.define({combine:e=>e.length?e[0].match:null});function j(){return null}function x(e){return e.facet(m)||e.facet(b)||j}class v{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class y{constructor(e,t){let n;function r(e){let t=i.a.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.map=Object.create(null),this.all="string"==typeof t.all?t.all:t.all?r(t.all):null;for(let i of e){let e=(i.class||r(Object.assign({},i,{tag:null})))+(this.all?" "+this.all:""),t=i.tag;if(Array.isArray(t))for(let n of t)this.map[n.id]=e;else this.map[t.id]=e}this.module=n?new i.a(n):null,this.scope=t.scope||null,this.match=this.match.bind(this);let s=[O];this.module&&s.push(o.EditorView.styleModule.of(this.module)),this.extension=s.concat(m.of(this)),this.fallback=s.concat(b.of(this))}match(e,t){if(this.scope&&t!=this.scope)return null;for(let n of e.set){let t=this.map[n.id];if(void 0!==t)return n!=e&&(this.map[e.id]=t),t}return this.map[e.id]=this.all}static combinedMatch(e){if(1==e.length)return e[0].match;let t=e.some((e=>e.scope))?void 0:Object.create(null);return(n,r)=>{let i=t&&t[n.id];if(void 0!==i)return i;let o=null;for(let t of e){let e=t.match(n,r);e&&(o=o?o+" "+e:e)}return t&&(t[n.id]=o),o}}static define(e,t){return new y(e,t||{})}static get(e,t,n){return x(e)(t,n||r.d.none)}}function w(e,t,n){S(e,0,e.length,t,n)}const O=s.Prec.fallback(o.ViewPlugin.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=Object(a.syntaxTree)(e.state),this.decorations=this.buildDeco(e,x(e.state))}update(e){let t=Object(a.syntaxTree)(e.state),n=x(e.state),r=n!=e.startState.facet(m);t.length<e.view.viewport.to&&!r?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(t==j||!this.tree.length)return o.Decoration.none;let n=new c.c;for(let{from:r,to:i}of e.visibleRanges)S(this.tree,r,i,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=o.Decoration.mark({class:r})))}));return n.finish()}},{decorations:e=>e.decorations})),k=[""];function S(e,t,n,r,i){let o=t,s="",a=e.topNode.cursor;!function e(c,l,u){let{type:d,from:h,to:f}=a;if(h>=n||f<=t)return;k[l]=d.name,d.isTop&&(u=d);let p=c,m=d.prop(g),b=!1;for(;m;){if(!m.context||C(m.context,k,l)){for(let e of m.tags){let t=r(e,u);t&&(p&&(p+=" "),p+=t,1==m.mode?c+=(c?" ":"")+t:0==m.mode&&(b=!0))}break}m=m.next}if(p!=s&&(h>o&&s&&i(o,a.from,s),o=h,s=p),!b&&a.firstChild()){do{let t=a.to;if(e(c,l+1,u),s!=p){let e=Math.min(n,t);e>o&&s&&i(o,e,s),o=e,s=p}}while(a.nextSibling());a.parent()}}("",0,e.type)}function C(e,t,n){if(e.length>n-1)return!1;for(let r=n-1,i=e.length-1;i>=0;i--,r--){let n=e[i];if(n&&n!=t[r])return!1}return!0}const _=u.define,E=_(),P=_(),N=_(P),R=_(),I=_(R),D=_(R),T=_(),M=_(T),A=_(),L=_(),U=_(),F=_(U),z=_(),V={comment:E,lineComment:_(E),blockComment:_(E),docComment:_(E),name:P,variableName:_(P),typeName:N,tagName:_(N),propertyName:_(P),className:_(P),labelName:_(P),namespace:_(P),macroName:_(P),literal:R,string:I,docString:_(I),character:_(I),number:D,integer:_(D),float:_(D),bool:_(R),regexp:_(R),escape:_(R),color:_(R),url:_(R),keyword:A,self:_(A),null:_(A),atom:_(A),unit:_(A),modifier:_(A),operatorKeyword:_(A),controlKeyword:_(A),definitionKeyword:_(A),operator:L,derefOperator:_(L),arithmeticOperator:_(L),logicOperator:_(L),bitwiseOperator:_(L),compareOperator:_(L),updateOperator:_(L),definitionOperator:_(L),typeOperator:_(L),controlOperator:_(L),punctuation:U,separator:_(U),bracket:F,angleBracket:_(F),squareBracket:_(F),paren:_(F),brace:_(F),content:T,heading:M,heading1:_(M),heading2:_(M),heading3:_(M),heading4:_(M),heading5:_(M),heading6:_(M),contentSeparator:_(T),list:_(T),quote:_(T),emphasis:_(T),strong:_(T),link:_(T),monospace:_(T),inserted:_(),deleted:_(),changed:_(),invalid:_(),meta:z,documentMeta:_(z),annotation:_(z),processingInstruction:_(z),definition:u.defineModifier(),constant:u.defineModifier(),function:u.defineModifier(),standard:u.defineModifier(),local:u.defineModifier(),special:u.defineModifier()},B=y.define([{tag:V.link,textDecoration:"underline"},{tag:V.heading,textDecoration:"underline",fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strong,fontWeight:"bold"},{tag:V.keyword,color:"#708"},{tag:[V.atom,V.bool,V.url,V.contentSeparator,V.labelName],color:"#219"},{tag:[V.literal,V.inserted],color:"#164"},{tag:[V.string,V.deleted],color:"#a11"},{tag:[V.regexp,V.escape,V.special(V.string)],color:"#e40"},{tag:V.definition(V.variableName),color:"#00f"},{tag:V.local(V.variableName),color:"#30a"},{tag:[V.typeName,V.namespace],color:"#085"},{tag:V.className,color:"#167"},{tag:[V.special(V.variableName),V.macroName],color:"#256"},{tag:V.definition(V.propertyName),color:"#00c"},{tag:V.comment,color:"#940"},{tag:V.meta,color:"#7a757a"},{tag:V.invalid,color:"#f00"}]),W=y.define([{tag:V.link,class:"cmt-link"},{tag:V.heading,class:"cmt-heading"},{tag:V.emphasis,class:"cmt-emphasis"},{tag:V.strong,class:"cmt-strong"},{tag:V.keyword,class:"cmt-keyword"},{tag:V.atom,class:"cmt-atom"},{tag:V.bool,class:"cmt-bool"},{tag:V.url,class:"cmt-url"},{tag:V.labelName,class:"cmt-labelName"},{tag:V.inserted,class:"cmt-inserted"},{tag:V.deleted,class:"cmt-deleted"},{tag:V.literal,class:"cmt-literal"},{tag:V.string,class:"cmt-string"},{tag:V.number,class:"cmt-number"},{tag:[V.regexp,V.escape,V.special(V.string)],class:"cmt-string2"},{tag:V.variableName,class:"cmt-variableName"},{tag:V.local(V.variableName),class:"cmt-variableName cmt-local"},{tag:V.definition(V.variableName),class:"cmt-variableName cmt-definition"},{tag:V.special(V.variableName),class:"cmt-variableName2"},{tag:V.typeName,class:"cmt-typeName"},{tag:V.namespace,class:"cmt-namespace"},{tag:V.macroName,class:"cmt-macroName"},{tag:V.propertyName,class:"cmt-propertyName"},{tag:V.operator,class:"cmt-operator"},{tag:V.comment,class:"cmt-comment"},{tag:V.meta,class:"cmt-meta"},{tag:V.invalid,class:"cmt-invalid"},{tag:V.punctuation,class:"cmt-punctuation"}])},wG49:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return i}));var r=n("4eob");class i{eq(e){return this==e}range(e,t=e){return new o(e,t,this)}}i.prototype.startSide=i.prototype.endSide=0,i.prototype.point=!1,i.prototype.mapMode=r.MapMode.TrackDel;class o{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function s(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class a{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n=1e9*t,r=0){if(e<=0)return r;let i=t<0?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-e||(t<0?this.value[r].startSide:this.value[r].endSide)-n;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1),o=this.findIndex(n,1,void 0,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let c,l,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;c=l=e}else if(c=t.mapPos(d,u.startSide),l=t.mapPos(h,u.endSide),c>l||c==l&&u.startSide>0&&u.endSide<=0)continue;(l-c||u.endSide-u.startSide)<0||(o<0&&(o=c),u.point&&(s=Math.max(s,l-c)),n.push(u),r.push(c-o),i.push(l-o))}return{mapped:n.length?new a(r,i,n,s):null,pos:o}}}class c{constructor(e,t,n=c.empty,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this==c.empty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,a=e.filter;if(0==t.length&&!a)return this;if(n&&t.slice().sort(s),this==c.empty)return t.length?c.of(t):this;let d=new u(this,null,-1).goto(0),h=0,f=[],p=new l;for(;d.value||h<t.length;)if(h<t.length&&(d.from-t[h].from||d.startSide-t[h].value.startSide)>=0){let e=t[h++];p.addInner(e.from,e.to,e.value)||f.push(e)}else 1==d.rangeIndex&&d.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(d.chunkIndex)<t[h].from)&&(!a||r>this.chunkEnd(d.chunkIndex)||i<this.chunkPos[d.chunkIndex])&&p.addChunk(this.chunkPos[d.chunkIndex],this.chunk[d.chunkIndex])?d.nextChunk():((!a||r>d.to||i<d.from||a(d.from,d.to,d.value))&&(p.addInner(d.from,d.to,d.value)||f.push(new o(d.from,d.to,d.value))),d.next());return p.finishInner(this.nextLayer!=c.empty||f.length?this.nextLayer.update({add:f,filter:a,filterFrom:r,filterTo:i}):c.empty)}map(e){if(0==e.length||this==c.empty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o],a=e.touchesRange(i,i+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(i));else if(!0===a){let{mapped:o,pos:a}=s.map(i,e);o&&(r=Math.max(r,o.maxPoint),t.push(o),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new c(n,t,i,r)}between(e,t,n){if(this!=c.empty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return d.from([this]).goto(e)}static iter(e,t=0){return d.from(e).goto(t)}static compare(e,t,n,r,i=-1){let o=e.filter((e=>e.maxPoint>=500||e!=c.empty&&t.indexOf(e)<0&&e.maxPoint>=i)),s=t.filter((t=>t.maxPoint>=500||t!=c.empty&&e.indexOf(t)<0&&t.maxPoint>=i)),a=function(e,t){let n=new Map;for(let i of e)for(let e=0;e<i.chunk.length;e++)i.chunk[e].maxPoint<500&&n.set(i.chunk[e],i.chunkPos[e]);let r=new Set;for(let i of t)for(let e=0;e<i.chunk.length;e++)n.get(i.chunk[e])==i.chunkPos[e]&&r.add(i.chunk[e]);return r}(o,s),l=new f(o,a,i),u=new f(s,a,i);n.iterGaps(((e,t,n)=>p(l,e,u,t,n,r))),n.empty&&0==n.length&&p(l,0,u,0,0,r)}static spans(e,t,n,r,i=-1){let o=new f(e,null,i).goto(t),s=t,a=o.openStart;for(;;){let e=Math.min(o.to,n);if(o.point?(r.point(s,e,o.point,o.activeForPoint(o.to),a),a=o.openEnd(e)+(o.to>e?1:0)):e>s&&(r.span(s,e,o.active,a),a=o.openEnd(e)),o.to>n)break;s=o.to,o.next()}return a}static of(e,t=!1){let n=new l;for(let r of e instanceof o?[e]:t?e.slice().sort(s):e)n.add(r.from,r.to,r.value);return n.finish()}}c.empty=new c([],[],null,-1),c.empty.nextLayer=c.empty;class l{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new a(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new l)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(c.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new c(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}class u{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}let r=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],-1,t);(!n||this.rangeIndex<r)&&(this.rangeIndex=r),this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],++this.rangeIndex==t.value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.to-e.to||this.endSide-e.endSide}}class d{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let o=e[i];o!=c.empty;o=o.nextLayer)o.maxPoint>=n&&r.push(new u(o,t,n,i));return 1==r.length?r[0]:new d(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)h(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)h(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),h(this.heap,0)}}}function h(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class f{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=d.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){m(this.active,e),m(this.activeTo,e),m(this.activeRank,e),this.minActive=j(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=i;)t++;b(this.active,t,n),b(this.activeTo,t,r),b(this.activeRank,t,i),e&&b(e,t,this.cursor.from),this.minActive=j(this.active,this.activeTo)}next(){let e=this.to;this.point=null;let t=this.openStart<0?[]:null,n=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),t&&m(t,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<e&&(n=1),this.cursor.next(),this.to>e&&this.forward(this.to,this.endSide);break}this.addActive(t),this.cursor.next()}}}if(t){let r=0;for(;r<t.length&&t[r]<e;)r++;this.openStart=r+n}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=0;n<this.active.length&&!(this.activeRank[n]>this.pointRank);n++)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>this.point.endSide)&&t.push(this.active[n]);return t}openEnd(e){let t=0;for(;t<this.activeTo.length&&this.activeTo[t]>e;)t++;return t}}function p(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,c=r-t;for(;;){let t=e.to+c-n.to||e.endSide-n.endSide,r=t<0?e.to+c:n.to,i=Math.min(r,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))||o.comparePoint(a,i,e.point,n.point):i>a&&!g(e.active,n.active)&&o.compareRange(a,i,e.active,n.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function g(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function m(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function b(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function j(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}},"yqQ+":function(e,t,n){"use strict";n.r(t),n.d(t,"EditorParseContext",(function(){return g})),n.d(t,"IndentContext",(function(){return P})),n.d(t,"Language",(function(){return l})),n.d(t,"LanguageDescription",(function(){return O})),n.d(t,"LanguageSupport",(function(){return w})),n.d(t,"LezerLanguage",(function(){return d})),n.d(t,"TreeIndentContext",(function(){return T})),n.d(t,"continuedIndent",(function(){return F})),n.d(t,"defineLanguageFacet",(function(){return c})),n.d(t,"delimitedIndent",(function(){return A})),n.d(t,"ensureSyntaxTree",(function(){return f})),n.d(t,"flatIndent",(function(){return U})),n.d(t,"foldInside",(function(){return W})),n.d(t,"foldNodeProp",(function(){return B})),n.d(t,"foldService",(function(){return V})),n.d(t,"foldable",(function(){return q})),n.d(t,"getIndentUnit",(function(){return C})),n.d(t,"getIndentation",(function(){return E})),n.d(t,"indentNodeProp",(function(){return N})),n.d(t,"indentOnInput",(function(){return z})),n.d(t,"indentService",(function(){return k})),n.d(t,"indentString",(function(){return _})),n.d(t,"indentUnit",(function(){return S})),n.d(t,"language",(function(){return y})),n.d(t,"languageDataProp",(function(){return a})),n.d(t,"syntaxTree",(function(){return h}));var r=n("WQMp"),i=n("uZp5"),o=n("4eob"),s=n("AtEE");const a=new r.b;function c(e){return o.Facet.define({combine:e?t=>t.concat(e):void 0})}class l{constructor(e,t,n,r=[]){this.data=e,this.topNode=n,o.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(o.EditorState.prototype,"tree",{get(){return h(this)}}),this.parser=t,this.extension=[y.of(this),o.EditorState.languageData.of(((e,t)=>e.facet(u(e,t))))].concat(r)}isActiveAt(e,t){return u(e,t)==this.data}findRegions(e){let t=e.facet(y);if((null===t||void 0===t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[];return h(e).iterate({enter:(e,t,r)=>{if(e.isTop&&e.prop(a)==this.data)return n.push({from:t,to:r}),!1}}),n}get allowsNesting(){return!0}parseString(e){let t,n=i.a.of(e.split("\n")),s=this.parser.startParse(new p(n),0,new g(this.parser,o.EditorState.create({doc:n}),[],r.e.empty,{from:0,to:e.length},[],null));for(;!(t=s.advance()););return t}}function u(e,t){let n=e.facet(y);if(!n)return null;if(!n.allowsNesting)return n.data;let r=h(e).resolve(t,-1);for(;r;){let e=r.type.prop(a);if(e)return e;r=r.parent}return n.data}l.setState=o.StateEffect.define();class d extends l{constructor(e,t){super(e,t,t.topNode),this.parser=t}static define(e){let t=c(e.languageData);return new d(t,e.parser.configure({props:[a.add((e=>e.isTop?t:void 0))]}))}configure(e){return new d(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasNested}}function h(e){let t=e.field(l.state,!1);return t?t.tree:r.e.empty}function f(e,t,n=50){var r;let i=null===(r=e.field(l.state,!1))||void 0===r?void 0:r.context;return i&&(i.tree.length>=t||i.work(n,t))?i.tree:null}class p{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.prevString="",this.cursor=e.iter()}syncTo(e){return e<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.prevString=e==this.cursorPos?this.string:"",this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}get(e){if(e>=this.length)return-1;let t=this.cursorPos-this.string.length;if(e<t||e>=this.cursorPos){if(e<t&&e>=t-this.prevString.length)return this.prevString.charCodeAt(e-(t-this.prevString.length));t=this.syncTo(e)}return this.string.charCodeAt(e-t)}lineAfter(e){if(e>=this.length||e<0)return"";let t=this.cursorPos-this.string.length;return(e<t||e>=this.cursorPos)&&(t=this.syncTo(e)),this.cursor.lineBreak?"":this.string.slice(e-t,Math.min(this.length-t,this.string.length))}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}clip(e){return new p(this.doc,e)}}class g{constructor(e,t,n=[],r,i,o,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.viewport=i,this.skipped=o,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}work(e,t){if(this.tree!=r.e.empty&&(null==t?this.tree.length==this.state.doc.length:this.tree.length>=t))return this.takeTree(),!0;this.parse||(this.parse=this.parser.startParse(new p(this.state.doc),0,this));let n=Date.now()+e;for(;;){let e=this.parse.advance();if(e)return this.fragments=this.withoutTempSkipped(r.g.addTree(e)),this.parse=null,this.tree=e,!0;if(null!=t&&this.parse.pos>=t)return this.takeTree(),!0;if(Date.now()>n)return!1}}takeTree(){this.parse&&this.parse.pos>this.tree.length&&(this.tree=this.parse.forceFinish(),this.fragments=this.withoutTempSkipped(r.g.addTree(this.tree,this.fragments,!0)))}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=m(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,i)=>t.push({fromA:e,toA:n,fromB:r,toB:i}))),n=r.g.applyChanges(n,t),i=r.e.empty,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new g(this.parser,t,n,i,o,s,this.scheduleOn)}updateViewport(e){this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:t,to:r}=this.skipped[n];t<e.to&&r>e.from&&(this.fragments=m(this.fragments,t,r),this.skipped.splice(n--,1))}return this.skipped.length<t}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return{startParse:(t,n,i)=>({pos:n,advance(){let o=i;return o.tempSkipped.push({from:n,to:t.length}),e&&(o.scheduleOn=o.scheduleOn?Promise.all([o.scheduleOn,e]):e),this.pos=t.length,new r.e(r.d.none,[],[],t.length-n)},forceFinish(){return this.advance()}})}}movedPast(e){return this.tree.length<e&&this.parse&&this.parse.pos>=e}}function m(e,t,n){return r.g.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}g.skippingParser=g.getSkippingParser();class b{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged)return this;let t=this.context.changes(e.changes,e.state),n=this.context.tree.length==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.tree.length),t.viewport.to);return t.work(25,n)||t.takeTree(),new b(t)}static init(e){let t=new g(e.facet(y).parser,e,[],r.e.empty,{from:0,to:e.doc.length},[],null);return t.work(25)||t.takeTree(),new b(t)}}l.state=o.StateField.define({create:b.init,update(e,t){for(let n of t.effects)if(n.is(l.setState))return n.value;return t.startState.facet(y)!=t.state.facet(y)?b.init(t.state):e.apply(t)}});let j="undefined"!=typeof window&&window.requestIdleCallback||((e,{timeout:t})=>setTimeout(e,t)),x="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout;const v=s.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=-1,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(l.state).context;e.viewportChanged&&(t.updateViewport(e.view.viewport)&&t.reset(),this.view.viewport.to>t.tree.length&&this.scheduleWork()),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(e=!1){if(this.working>-1)return;let{state:t}=this.view,n=t.field(l.state);!e&&n.tree.length>=t.doc.length||(this.working=j(this.work,{timeout:500}))}work(e){this.working=-1;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(l.state);if(i.tree.length>=r+1e6)return;let o=Math.min(this.chunkBudget,e?Math.max(25,e.timeRemaining()):100),s=i.context.work(o,r+1e6);this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0||i.context.movedPast(r))&&(i.context.takeTree(),this.view.dispatch({effects:l.setState.of(new b(i.context))})),!s&&this.chunkBudget>0&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(e.scheduleOn.then((()=>this.scheduleWork(!0))),e.scheduleOn=null)}destroy(){this.working>=0&&x(this.working)}},{eventHandlers:{focus(){this.scheduleWork()}}}),y=o.Facet.define({combine:e=>e.length?e[0]:null,enables:[l.state,v]});class w{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class O{constructor(e,t,n,r,i){this.name=e,this.alias=t,this.extensions=n,this.filename=r,this.loadFunc=i,this.support=void 0,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){return new O(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,e.load)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let n=/\.([^.]+)$/.exec(t);if(n)for(let r of e)if(r.extensions.indexOf(n[1])>-1)return r;return null}static matchLanguageName(e,t,n=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some((e=>e==t)))return r;if(n)for(let r of e)for(let e of r.alias){let n=t.indexOf(e);if(n>-1&&(e.length>2||!/\w/.test(t[n-1])&&!/\w/.test(t[n+e.length])))return r}return null}}const k=o.Facet.define(),S=o.Facet.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function C(e){let t=e.facet(S);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function _(e,t){let n="",r=e.tabSize;if(9==e.facet(S).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(let i=0;i<t;i++)n+=" ";return n}function E(e,t){e instanceof o.EditorState&&(e=new P(e));for(let r of e.state.facet(k)){let n=r(e,t);if(null!=n)return n}let n=h(e.state);return n?function(e,t,n){let r=t.resolve(n);for(let i=r,o=n;;){let e=i.childBefore(o);if(!e)break;e.type.isError&&e.from==e.to?(r=i,o=e.from):(i=e,o=i.to+1)}return I(r,n,e)}(e,n,t):null}class P{constructor(e,t={}){this.state=e,this.options=t,this.unit=C(e)}textAfterPos(e){var t,n;let r=null===(t=this.options)||void 0===t?void 0:t.simulateBreak;return e==r&&(null===(n=this.options)||void 0===n?void 0:n.simulateDoubleBreak)?"":this.state.sliceDoc(e,Math.min(e+100,null!=r&&r>e?r:1e9,this.state.doc.lineAt(e).to))}column(e){var t;let n=this.state.doc.lineAt(e),r=n.text.slice(0,e-n.from),i=this.countColumn(r,e-n.from),o=(null===(t=this.options)||void 0===t?void 0:t.overrideIndentation)?this.options.overrideIndentation(n.from):-1;return o>-1&&(i+=o-this.countColumn(r,r.search(/\S/))),i}countColumn(e,t){return Object(i.d)(t<0?e:e.slice(0,t),0,this.state.tabSize)}lineIndent(e){var t;let n=null===(t=this.options)||void 0===t?void 0:t.overrideIndentation;if(n){let t=n(e.from);if(t>-1)return t}return this.countColumn(e.text,e.text.search(/\S/))}}const N=new r.b;function R(e){let t=e.type.prop(N);if(t)return t;let n,i=e.firstChild;if(i&&(n=i.type.prop(r.b.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>L(e,!0,1,void 0,r&&!function(e){var t,n;return e.pos==(null===(t=e.options)||void 0===t?void 0:t.simulateBreak)&&(null===(n=e.options)||void 0===n?void 0:n.simulateDoubleBreak)}(e)?t.from:void 0)}return null==e.parent?D:null}function I(e,t,n){for(;e;e=e.parent){let r=R(e);if(r)return r(new T(n,t,e))}return null}function D(){return 0}class T extends P{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(M(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e)}continue(){let e=this.node.parent;return e?I(e,this.pos,this.base):0}}function M(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function A({closing:e,align:t=!0,units:n=1}){return r=>L(r,t,n,e)}function L(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,c=t?function(e){var t;let n=e.node,r=n.childAfter(n.from),i=n.lastChild;if(!r)return null;let o=null===(t=e.options)||void 0===t?void 0:t.simulateBreak,s=e.state.doc.lineAt(r.from),a=null==o||o<=s.from?s.to:Math.min(s.to,o);for(let c=r.to;;){let e=n.childAfter(c);if(!e||e==i)return null;if(!e.type.isSkipped)return e.from<a?r:null;c=e.to}}(e):null;return c?a?e.column(c.from):e.column(c.to):e.baseIndent+(a?0:e.unit*n)}const U=e=>e.baseIndent;function F({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}function z(){return o.EditorState.transactionFilter.of((e=>{if(!e.docChanged||"input"!=e.annotation(o.Transaction.userEvent))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return e;let s=n.sliceString(i.from,r);if(!t.some((e=>e.test(s))))return e;let{state:a}=e,c=-1,l=[];for(let{head:o}of a.selection.ranges){let e=a.doc.lineAt(o);if(e.from==c)continue;c=e.from;let t=E(a,e.from);if(null==t)continue;let n=/^\s*/.exec(e.text)[0],r=_(a,t);n!=r&&l.push({from:e.from,to:e.from+n.length,insert:r})}return l.length?[e,{changes:l}]:e}))}const V=o.Facet.define(),B=new r.b;function W(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function q(e,t,n){for(let r of e.facet(V)){let i=r(e,t,n);if(i)return i}return function(e,t,n){let r=h(e);if(0==r.length)return null;let i=null;for(let o=r.resolve(n);o;o=o.parent){if(o.to<=n||o.from>n)continue;if(i&&o.from<t)break;let r=o.type.prop(B);if(r){let s=r(o,e);s&&s.from<=n&&s.from>=t&&s.to>n&&(i=s)}}return i}(e,t,n)}},zWI3:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replView",function(){return n("o/6W")}])},zZPE:function(e,t){var n,r,i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,c=s.call(Object),l=o.toString,u=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}}},[[68,2,1,16,32,0,3,4,5,6,8,9,11,12,13,17,14,15,18,21,23,22,26,27,29,38]]]);